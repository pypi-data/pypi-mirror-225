(window.webpackJsonp=window.webpackJsonp||[]).push([[191,194],{1320:function(e,t,n){"use strict";n.r(t),n.d(t,"useAnnotationModeViewModel",(function(){return b}));var a=n(945),r=n(975),c=(n(9),n(36),n(2)),o=n(3),u=n(10),i=n(13),s=n(7),d=n(126),f=n(55),l=n(127),p=n(286);function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,a=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var v=function(e){Object(u.a)(UpdateMetricsEventHandler,e);var t=_createSuper(UpdateMetricsEventHandler);function UpdateMetricsEventHandler(){return Object(c.a)(this,UpdateMetricsEventHandler),t.call(this,l.a)}return Object(o.a)(UpdateMetricsEventHandler,[{key:"handle",value:function handle(e){Object(f.useResolve)(p.a).execute(e.record.datasetId)}}]),UpdateMetricsEventHandler}(d.Handler),b=function useAnnotationModeViewModel(){var e=Object(r.useDatasetViewModel)();return Object(a.b)((function(){!function useEvents(e){Object(a.c)((function(){e()})),Object(a.d)((function(){d.DomainEvents.clear()}))}((function(){new v})),e.loadDataset()})),Object.assign({},e)}},945:function(e,t,n){"use strict";var a=n(0);n.d(t,"a",(function(){return a.computed})),n.d(t,"b",(function(){return a.onBeforeMount})),n.d(t,"c",(function(){return a.onMounted})),n.d(t,"d",(function(){return a.onUnmounted}));a.default,a.default.util.warn},975:function(e,t,n){"use strict";n.r(t),n.d(t,"useDatasetViewModel",(function(){return s}));n(21),n(9),n(27);var a=n(186),r=n(55),c=n(39),o=n(284),u=n(279),i=n(283),__awaiter=function(e,t,n,a){return new(n||(n=Promise))((function(r,c){function fulfilled(e){try{step(a.next(e))}catch(e){c(e)}}function rejected(e){try{step(a.throw(e))}catch(e){c(e)}}function step(e){e.done?r(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((a=a.apply(e,t||[])).next())}))},s=function useDatasetViewModel(){var e=Object(a.c)(!1),t=Object(a.g)(),n=Object(a.f)().value.params.id,s=Object(i.a)().state,d=Object(r.useResolve)(o.a),f=Object(a.a)((function(){return p(s)})),l=function handleError(e){var t="";switch(e){case u.a.ERROR_FETCHING_DATASET_INFO:t="Can't get dataset info for dataset_id: ".concat(n);break;case u.a.ERROR_FETCHING_WORKSPACE_INFO:t="Can't get workspace info for dataset_id: ".concat(n);break;default:t="There was an error on fetching dataset info and workspace info. Please try again"}var a={message:t,numberOfChars:t.length,type:"error"};c.a.dispatch("notify",a)},p=function createBreadcrumbs(e){return[{link:{name:"datasets"},name:"Home"},{link:{path:"/datasets?workspace=".concat(e.workspace)},name:e.workspace},{link:{name:null},name:e.name}]};return{dataset:s,datasetId:n,isLoadingDataset:e,loadDataset:function loadDataset(){return __awaiter(void 0,void 0,void 0,regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.value=!0,a.next=4,d.execute(n);case 4:a.next=10;break;case 6:a.prev=6,a.t0=a.catch(0),l(a.t0.response),t.push("/");case 10:return a.prev=10,e.value=!1,a.finish(10);case 13:case"end":return a.stop()}}),_callee,null,[[0,6,10,13]])})))},breadcrumbs:f}}}}]);