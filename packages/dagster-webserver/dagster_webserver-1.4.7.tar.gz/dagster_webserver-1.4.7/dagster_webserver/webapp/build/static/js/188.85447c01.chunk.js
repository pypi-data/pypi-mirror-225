"use strict";(self.webpackChunk_dagster_io_app_oss=self.webpackChunk_dagster_io_app_oss||[]).push([[188],{38527:function(e,n,t){t.d(n,{m:function(){return l}});var i,r=t(71171),o=(t(78193),t(60319)),s=t(40302),c=t(69059),a=t(35936),l=function(e){var n=e.title,t=e.tags,i=e.right,r=e.tabs;return(0,a.jsxs)(u,{background:c.w.Gray50,padding:{top:16,left:24,right:12},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,a.jsxs)(s.x,{flex:{direction:"row",justifyContent:"space-between"},padding:{bottom:16},children:[(0,a.jsxs)(s.x,{flex:{direction:"row",alignItems:"flex-start",gap:12,wrap:"wrap"},children:[n,t]}),i]}),r]})},u=(0,o.ZP)(s.x)(i||(i=(0,r.Z)(["\n  width: 100%;\n\n  /**\n   * Blueprint breadcrumbs annoyingly have a built-in height.\n   */\n  .bp4-breadcrumbs {\n    height: auto;\n  }\n"])))},23028:function(e,n,t){t.d(n,{a:function(){return c}});var i=t(96234),r=t(78193),o=function(e,n){var t=new Set(Array.from(e.checkedIds));switch(n.type){case"toggle-one":var r=n.payload,o=r.checked,s=r.id;return o?t.add(s):t.delete(s),{lastCheckedId:s,checkedIds:t};case"toggle-slice":var c=n.payload,a=c.checked,l=c.id,u=c.allIds,d=e.lastCheckedId,p=d?u.indexOf(d):-1,h=u.indexOf(l);if(-1===p||-1===h)return e;var x=[p,h].sort(),m=(0,i.Z)(x,2),f=m[0],g=m[1];return u.slice(f,g+1).forEach((function(e){a?t.add(e):t.delete(e)})),{lastCheckedId:l,checkedIds:t};case"toggle-all":var j=n.payload,v=j.checked,y=j.allIds;return{lastCheckedId:null,checkedIds:v?new Set(y):new Set}}},s={checkedIds:new Set,lastCheckedId:null};function c(e){var n=r.useReducer(o,s),t=(0,i.Z)(n,2),c=t[0],a=t[1];return[c,{onToggleFactory:function(n){return function(t){var i=t.checked;t.shiftKey&&c.lastCheckedId?a({type:"toggle-slice",payload:{checked:i,id:n,allIds:e}}):a({type:"toggle-one",payload:{checked:i,id:n}})}},onToggleAll:function(n){a({type:"toggle-all",payload:{checked:n,allIds:e}})}}]}},65534:function(e,n,t){t.d(n,{_:function(){return c}});var i,r=t(71171),o=t(90239),s=t(31623),c=function(){var e=(0,o.a)(a).data;return!(null===e||void 0===e||!e.instance.hasInfo)},a=(0,s.Ps)(i||(i=(0,r.Z)(["\n  query InstanceConfigHasInfo {\n    instance {\n      id\n      hasInfo\n    }\n  }\n"])))},8512:function(e,n,t){t.d(n,{m:function(){return g}});var i=t(96234),r=t(16854),o=t(40302),s=t(69059),c=t(36318),a=t(85049),l=t(48439),u=t(58760),d=t(29427),p=t(78193),h=t(97412),x=t(14581),m=t(45384),f=t(35936),g=p.memo((function(e){var n=e.assetKeys,t=e.useTags,g=e.modalTitle,j=void 0===g?"Assets in Run":g,v=p.useState(!1),y=(0,i.Z)(v,2),w=y[0],C=y[1];if(!n||!n.length)return null;var Z=n.length,b=Z<=3?n:[],k=Z-b.length,T=k>0?(0,f.jsxs)(r.Vq,{title:j,onClose:function(){return C(!1)},style:{minWidth:"400px",maxWidth:"80vw",maxHeight:"70vh"},isOpen:w,children:[w?(0,f.jsx)(o.x,{padding:{bottom:12},border:{side:"bottom",color:s.w.KeylineGray,width:1},style:{overflowY:"auto"},background:s.w.White,children:(0,f.jsxs)(c.i,{children:[(0,f.jsx)("thead",{children:(0,f.jsx)("tr",{children:(0,f.jsx)("th",{children:"Asset key"})})}),(0,f.jsx)("tbody",{children:n.map((function(e,n){return(0,f.jsx)("tr",{children:(0,f.jsx)("td",{children:(0,f.jsx)(h.rU,{to:(0,m.p)(e),children:(0,x.ll)(e)},(0,x.Je)(e))})},"".concat((0,x.Je)(e),"-").concat(n))}))})]})}):null,(0,f.jsx)(r.cN,{children:(0,f.jsx)(a.zx,{intent:"primary",autoFocus:!0,onClick:function(){return C(!1)},children:"OK"})})]}):void 0;return t?(0,f.jsxs)(f.Fragment,{children:[b.map((function(e,n){return(0,f.jsx)(h.rU,{to:(0,m.p)(e),children:(0,f.jsx)(l.V,{intent:"none",interactive:!0,icon:"asset",children:(0,x.ll)(e)})},"".concat((0,x.Je)(e),"-").concat(n))})),k>0&&(0,f.jsx)(u.Z,{onClick:function(){return C(!0)},children:(0,f.jsxs)(l.V,{intent:"none",icon:"asset",children:[k," assets"]})}),T]}):(0,f.jsxs)(o.x,{flex:{direction:"row",gap:8},children:[(0,f.jsx)(d.JO,{color:s.w.Gray400,name:"asset",size:16,style:{marginTop:2}}),(0,f.jsxs)(o.x,{style:{flex:1},flex:{wrap:"wrap",display:"inline-flex"},children:[b.map((function(e,n){return(0,f.jsx)(h.rU,{to:(0,m.p)(e),style:{marginRight:4},children:"".concat((0,x.ll)(e)).concat(n<b.length-1?",":"")},(0,x.Je)(e))})),k>0&&b.length>0?(0,f.jsx)(u.Z,{onClick:function(){return C(!0)},children:" + ".concat(k," more")}):k>0?(0,f.jsx)(u.Z,{onClick:function(){return C(!0)},children:"".concat(k," assets")}):void 0]}),T]})}))},36355:function(e,n,t){t.d(n,{N:function(){return Z}});var i=t(32723),r=t(34795),o=t(96234),s=t(56666),c=t(33028),a=t(15541),l=t(60864),u=t(49668),d=t(85049),p=t(29427),h=t(69059),x=t(99600),m=t(16854),f=t(78193),g=t(78222),j=t(43371),v=t(35936),y=function(e){if("DeletePipelineRunSuccess"===(null===e||void 0===e?void 0:e.deletePipelineRun.__typename))throw new Error("Not an error!");return null===e||void 0===e?void 0:e.deletePipelineRun},w=function(e){return{step:"initial",frozenRuns:e,deletion:{completed:0,errors:{}}}},C=function(e,n){switch(n.type){case"reset":return w(n.frozenRuns);case"start":return(0,c.Z)((0,c.Z)({},e),{},{step:"deleting"});case"deletion-success":var t=e.deletion;return(0,c.Z)((0,c.Z)({},e),{},{step:"deleting",deletion:(0,c.Z)((0,c.Z)({},t),{},{completed:t.completed+1})});case"deletion-error":var i=e.deletion;return(0,c.Z)((0,c.Z)({},e),{},{step:"deleting",deletion:(0,c.Z)((0,c.Z)({},i),{},{completed:i.completed+1,errors:(0,c.Z)((0,c.Z)({},i.errors),{},(0,s.Z)({},n.id,n.error))})});case"complete":return(0,c.Z)((0,c.Z)({},e),{},{step:"completed"})}},Z=function(e){var n=e.isOpen,t=e.onClose,s=e.onComplete,c=e.onTerminateInstead,Z=e.selectedRuns,b=f.useRef(Z),k=f.useReducer(C,b.current,w),T=(0,o.Z)(k,2),R=T[0],E=T[1],O=Object.keys(R.frozenRuns),N=O.length,A=O.filter((function(e){return R.frozenRuns[e]})).length;f.useEffect((function(){n&&E({type:"reset",frozenRuns:b.current})}),[n]),f.useEffect((function(){n||(b.current=Z)}),[n,Z]);var I=(0,a.D)(j.be),S=(0,o.Z)(I,1)[0],P=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r,o,c,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E({type:"start"}),n=Object.keys(R.frozenRuns),t=0,r=n;case 3:if(!(t<r.length)){e.next=13;break}return o=r[t],e.next=7,S({variables:{runId:o}});case 7:c=e.sent,"DeletePipelineRunSuccess"===(null===(a=c.data)||void 0===a?void 0:a.deletePipelineRun.__typename)?E({type:"deletion-success"}):E({type:"deletion-error",id:o,error:y(a)});case 10:t++,e.next=3;break;case 13:E({type:"complete"}),s();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_="deleting"!==R.step;return(0,v.jsxs)(m.Vq,{isOpen:n,title:"Delete runs",canEscapeKeyClose:_,canOutsideClickClose:_,onClose:t,children:[(0,v.jsx)(m.a7,{children:(0,v.jsxs)(u.Z,{direction:"column",spacing:24,children:[function(){switch(R.step){case"initial":return(0,v.jsxs)(u.Z,{direction:"column",spacing:8,children:[(0,v.jsx)("div",{children:"".concat(N," ").concat(1===N?"run":"runs"," will be deleted.")}),(0,v.jsx)("div",{children:"Deleting runs will not prevent them from continuing to execute, and may result in unexpected behavior."}),A?(0,v.jsx)("div",{children:A>1?(0,v.jsxs)(v.Fragment,{children:["".concat(A," of these runs can be terminated. "),(0,v.jsx)("strong",{children:"Please consider terminating these runs instead of deleting them."})]}):(0,v.jsxs)(v.Fragment,{children:["1 run can be terminated instead. ",(0,v.jsx)("strong",{children:"Please consider terminating this run instead of deleting it."})]})}):null,(0,v.jsx)("div",{children:"Do you wish to continue with deletion?"})]});case"deleting":case"completed":var e=N>0?R.deletion.completed/N:1;return(0,v.jsxs)(u.Z,{direction:"column",spacing:8,children:[(0,v.jsx)("div",{children:"Deleting\u2026"}),(0,v.jsx)(l.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"deleting"===R.step?(0,v.jsx)(g.c,{message:"Deletion in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===R.step)return null;if("deleting"===R.step)return(0,v.jsx)("div",{children:"Please do not close the window or navigate away during deletion."});var e=R.deletion.errors,n=Object.keys(e).length,t=R.deletion.completed-n;return(0,v.jsxs)(u.Z,{direction:"column",spacing:8,children:[t?(0,v.jsxs)(u.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,v.jsx)(p.JO,{name:"check_circle",color:h.w.Green500}),(0,v.jsx)("div",{children:"Successfully deleted ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,v.jsxs)(u.Z,{direction:"column",spacing:8,children:[(0,v.jsxs)(u.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,v.jsx)(p.JO,{name:"warning",color:h.w.Yellow500}),(0,v.jsx)("div",{children:"Could not delete ".concat(n," ").concat(1===n?"run":"runs",".")})]}),(0,v.jsx)("ul",{children:Object.keys(e).map((function(n){var t;return(0,v.jsx)("li",{children:(0,v.jsxs)(u.Z,{direction:"row",spacing:8,children:[(0,v.jsx)(x.fv,{children:n.slice(0,8)}),e[n]?(0,v.jsx)("div",{children:null===(t=e[n])||void 0===t?void 0:t.message}):null]})},n)}))})]}):null]})}()]})}),(0,v.jsx)(m.cN,{children:function(){switch(R.step){case"initial":return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,v.jsx)(d.zx,{intent:"danger",onClick:P,children:"Yes, delete ".concat("".concat(N," ").concat(1===N?"run":"runs"))}),A?(0,v.jsx)(d.zx,{intent:"primary",onClick:c,children:"Terminate ".concat("".concat(A," ").concat(1===A?"run":"runs")," instead")}):null]});case"deleting":return(0,v.jsx)(d.zx,{intent:"danger",disabled:!0,children:"Deleting\u2026"});case"completed":return(0,v.jsx)(d.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})}},78222:function(e,n,t){t.d(n,{c:function(){return s}});var i=t(78193),r=t(50032),o=t(35936),s=function(e){return i.useEffect((function(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[]),(0,o.jsx)(r.NL,{message:e.message})}},76627:function(e,n,t){t.d(n,{F:function(){return m}});var i,r,o=t(71171),s=t(90239),c=t(31623),a=t(40302),l=t(83796),u=(t(78193),t(97412)),d=t(60319),p=t(72885),h=t(18213),x=t(35936),m=function(e){var n=e.runId,t=(0,s.a)(f,{variables:{runId:n}});if(t.loading||!t.data)return(0,x.jsx)(g,{children:(0,x.jsx)(a.x,{padding:24,flex:{justifyContent:"center"},children:(0,x.jsx)(l.$,{purpose:"section"})})});var i=t.data.pipelineRunOrError;if("Run"!==i.__typename)return(0,x.jsx)(h.T9,{error:i});if("RunStatsSnapshot"!==i.stats.__typename)return(0,x.jsx)(h.T9,{error:i.stats});var r="/runs/".concat(n);return(0,x.jsxs)(g,{children:[(0,x.jsx)(u.rU,{to:"".concat(r,"?logs=type:STEP_SUCCESS"),children:"".concat(i.stats.stepsSucceeded," steps succeeded")}),(0,x.jsx)(u.rU,{to:"".concat(r,"?logs=type:STEP_FAILURE"),children:"".concat(i.stats.stepsFailed," steps failed")}),(0,x.jsx)(u.rU,{to:"".concat(r,"?logs=type:ASSET_MATERIALIZATION"),children:"".concat(i.stats.materializations," materializations")}),(0,x.jsx)(u.rU,{to:"".concat(r,"?logs=type:STEP_EXPECTATION_RESULT"),children:"".concat(i.stats.expectations," expectations evaluated")})]})},f=(0,c.Ps)(i||(i=(0,o.Z)(["\n  query RunStatsQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on RunNotFoundError {\n        message\n      }\n      ... on Run {\n        id\n        pipelineName\n        stats {\n          ... on RunStatsSnapshot {\n            id\n            stepsSucceeded\n            stepsFailed\n            expectations\n            materializations\n          }\n          ...PythonErrorFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),p.B),g=d.ZP.div(r||(r=(0,o.Z)(["\n  min-width: 200px;\n  padding: 12px;\n  color: white;\n  font-size: 12px;\n  & > a {\n    display: block;\n  }\n"])))},30597:function(e,n,t){t.d(n,{K9:function(){return v},O_:function(){return w},hk:function(){return j}});var i,r,o,s=t(71171),c=t(33028),a=t(59740),l=t(15888),u=t(83796),d=t(78193),p=t(60319),h=t(76627),x=t(73354),m=t(44355),f=t(35936),g=["runId"],j=d.memo((function(e){var n=e.runId,t=(0,a.Z)(e,g);return(0,f.jsx)(l.J,{position:"bottom",interactionKind:"hover",content:(0,f.jsx)(h.F,{runId:n}),hoverOpenDelay:100,children:(0,f.jsx)(v,(0,c.Z)({},t))})})),v=d.memo((function(e){var n=e.status,t=e.size;return"STARTED"===n||"CANCELING"===n?(0,f.jsx)(u.$,{purpose:"caption-text"}):"SCHEDULED"===n?(0,f.jsx)(w,{status:n,size:t||12}):(0,f.jsx)(w,{status:n,size:t||12,pulse:m.Ys.has(n)||m.sy.has(n)})})),y=(0,p.F4)(i||(i=(0,s.Z)(["\n  0% {\n    filter: brightness(1);\n  }\n\n  50% {\n    filter: brightness(0.7);\n  }\n\n  100% {\n    filter: brightness(1);\n  }\n"]))),w=p.ZP.div(r||(r=(0,s.Z)(["\n  width: ","px;\n  height: ","px;\n  border-radius: ","px;\n  transition: filter 200ms linear;\n  ","\n\n  background: ",";\n  &:hover {\n    animation: none;\n    filter: brightness(0.7);\n  }\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size/2}),(function(e){return e.pulse?(0,p.iv)(o||(o=(0,s.Z)(["\n          animation: "," 2s infinite;\n        "])),y):null}),(function(e){var n=e.status;return x.YM[n]}))},73354:function(e,n,t){t.d(n,{KG:function(){return g},M9:function(){return v},YM:function(){return f},Zr:function(){return j},fi:function(){return m}});var i=t(69059),r=t(48439),o=t(40302),s=t(99600),c=t(15888),a=(t(78193),t(58035)),l=t(4534),u=t(76627),d=t(30597),p=t(35936),h=function(e){switch(e){case l.VOA.QUEUED:case l.VOA.NOT_STARTED:case l.VOA.CANCELED:case l.VOA.MANAGED:return"none";case l.VOA.SUCCESS:return"success";case l.VOA.FAILURE:return"danger";case l.VOA.STARTING:case l.VOA.STARTED:case l.VOA.CANCELING:return"primary";default:return(0,a.UT)(e)}},x=function(e){switch(e){case l.VOA.QUEUED:return"Queued";case l.VOA.SUCCESS:return"Success";case l.VOA.STARTING:return"Starting";case l.VOA.NOT_STARTED:return"Not started";case l.VOA.FAILURE:return"Failure";case l.VOA.STARTED:return"Started";case l.VOA.MANAGED:return"Managed";case l.VOA.CANCELING:return"Canceling";case l.VOA.CANCELED:return"Canceled";default:return(0,a.UT)(e)}},m=function(e){switch(e){case l.VOA.CANCELED:return"Canceled";case l.VOA.CANCELING:return"Canceling";case l.VOA.FAILURE:return"Failed";case l.VOA.STARTING:case l.VOA.STARTED:return"In progress";case l.VOA.QUEUED:return"Queued";case l.VOA.SUCCESS:return"Completed";case l.VOA.MANAGED:case l.VOA.NOT_STARTED:return"Missing";default:return(0,a.UT)(e)}},f={QUEUED:i.w.Blue200,NOT_STARTED:i.w.Gray600,MANAGED:i.w.Gray400,STARTED:i.w.Blue500,STARTING:i.w.Blue500,CANCELING:i.w.Blue500,SUCCESS:i.w.Green500,FAILURE:i.w.Red500,CANCELED:i.w.Gray400,SCHEDULED:i.w.Blue200},g=function(e){var n=e.status;return(0,p.jsx)(r.V,{intent:h(n),children:(0,p.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,p.jsx)(d.K9,{status:n,size:10}),(0,p.jsx)("div",{children:x(n)})]})})},j=function(e){var n=e.runId,t=e.status;return(0,p.jsx)(r.V,{intent:h(t),children:(0,p.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,p.jsx)(d.K9,{status:t,size:10}),(0,p.jsx)(s.aU,{children:n.slice(0,8)})]})})},v=function(e){var n=e.runId,t=e.status;return(0,p.jsx)(c.J,{position:"bottom-left",interactionKind:"hover",content:(0,p.jsx)(u.F,{runId:n}),hoverOpenDelay:100,usePortal:!0,children:(0,p.jsx)(g,{status:t})})}},91870:function(e,n,t){t.d(n,{ZZ:function(){return Le},AL:function(){return Fe}});var i,r,o,s,c,a,l,u,d,p=t(33028),h=t(68079),x=t(71171),m=t(96234),f=t(31623),g=t(40302),j=t(34943),v=t(29427),y=t(36318),w=t(14957),C=t(99600),Z=t(48439),b=t(69059),k=t(58760),T=t(16854),R=t(85049),E=t(78193),O=t(60319),N=t(15888),A=t(35936),I=function(e){return e.TOP_LEFT="top-start",e.TOP_CENTER="top",e.TOP_RIGHT="top-end",e.BOTTOM_LEFT="bottom-start",e.BOTTOM_CENTER="bottom",e.BOTTOM_RIGHT="bottom-end",e}({}),S=function(e){var n=e.title,t=e.description,i=e.actions,r=e.position,o=e.children,s=e.img,c=e.video,a=e.object,l=e.width,u=void 0===l?"260px":l,d=E.useMemo((function(){return s?(0,A.jsx)("img",{src:s,style:{borderRadius:"6px"}}):c?(0,A.jsx)("video",{src:c,style:{borderRadius:"6px"},autoPlay:!0,loop:!0,muted:!0}):a}),[s,c,a]),p=E.useMemo((function(){return(0,A.jsxs)(_,{flex:{gap:6,direction:"row"},margin:{top:8},children:[null!==i&&void 0!==i&&i.next?(0,A.jsx)(R.zx,{onClick:i.next,children:"Next"}):null,null!==i&&void 0!==i&&i.dismiss?(0,A.jsx)(R.zx,{onClick:i.dismiss,children:"Dismiss"}):null]})}),[null===i||void 0===i?void 0:i.next,null===i||void 0===i?void 0:i.dismiss]);return(0,A.jsx)(N.J,{isOpen:!0,placement:r,modifiers:{arrow:{enabled:!0},preventOverflow:{enabled:!0}},minimal:!1,content:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{}),(0,A.jsxs)(P,{flex:{direction:"column",gap:4},padding:16,style:{width:u},children:[(0,A.jsxs)(g.x,{flex:{direction:"column",gap:8},children:[d,(0,A.jsx)(C.pm,{style:{fontSize:"16px"},children:n})]}),(0,A.jsx)("div",{children:t}),p]}),(0,A.jsx)("div",{})]}),children:o})},P=(0,O.ZP)(g.x)(i||(i=(0,x.Z)(["\n  pointer-events: all;\n  background: ",";\n  border-radius: 4px;\n  padding: 16px;\n  box-shadow: 0px 2px 12px rgba(0, 0, 0, 0.12);\n\n  &,\n  button {\n    &,\n    &:hover,\n    &:focus {\n      color: ",";\n    }\n  }\n"])),b.w.Gray900,b.w.White),_=(0,O.ZP)(g.x)(r||(r=(0,x.Z)(["\n  > *:not(:first-child) {\n    &,\n    &:hover,\n    &:focus {\n      border: none;\n      box-shadow: none;\n    }\n  }\n  > * {\n    &:hover,\n    &:focus {\n      opacity: 0.9;\n    }\n  }\n"]))),z=t(97412),F=t(87734),D=t(14581),L=t(23028),V=t(9127),U=t(25646),M=t(18284),G=t(54860),J=t(29498),H=t(8512),B=t(56666),K=t(32723),q=t(34795),Y=t(15541),Q=t(44719),$=t(72979),W=t(34191),X=t(73619),ee=t(50032),ne=t(72593),te=t(52232),ie=t(14762),re=t(31362),oe=t(4534),se=t(66608),ce=t(54577),ae=t(39928),le=t(16365),ue=t(36355),de=t(60864),pe=t(49668),he=t(78222),xe=t(43371),me=function(e){if("LaunchRunSuccess"===(null===e||void 0===e?void 0:e.launchPipelineReexecution.__typename))throw new Error("Not an error!");return null===e||void 0===e?void 0:e.launchPipelineReexecution},fe=function(e){if(!e)return"Unknown error";switch(e.__typename){case"ConflictingExecutionParamsError":return"Conflicting execution parameters";case"InvalidOutputError":return"Invalid output";case"InvalidStepError":return"Invalid step";case"NoModeProvidedError":return"No mode provided";case"PipelineNotFoundError":return"Job not found in workspace";case"PresetNotFoundError":return"Preset not found";case"PythonError":return e.message;case"RunConfigValidationInvalid":return"Run config invalid";case"RunConflict":return"Run conflict";case"UnauthorizedError":return"Re-execution not authorized";case"InvalidSubsetError":return"Invalid op subset: "+e.message;default:return"Unknown error"}},ge=function(e){return{frozenRuns:e,step:"initial",reexecution:{completed:0,errors:{}}}},je=function(e,n){switch(n.type){case"reset":return ge(n.frozenRuns);case"start":return(0,p.Z)((0,p.Z)({},e),{},{step:"reexecuting"});case"reexecution-success":var t=e.reexecution;return(0,p.Z)((0,p.Z)({},e),{},{step:"reexecuting",reexecution:(0,p.Z)((0,p.Z)({},t),{},{completed:t.completed+1})});case"reexecution-error":var i=e.reexecution;return(0,p.Z)((0,p.Z)({},e),{},{step:"reexecuting",reexecution:(0,p.Z)((0,p.Z)({},i),{},{completed:i.completed+1,errors:(0,p.Z)((0,p.Z)({},i.errors),{},(0,B.Z)({},n.id,n.error))})});case"complete":return(0,p.Z)((0,p.Z)({},e),{},{step:"completed"})}},ve=function(e){var n=e.isOpen,t=e.onClose,i=e.onComplete,r=e.reexecutionStrategy,o=e.selectedRuns,s=E.useRef(o),c=E.useReducer(je,s.current,ge),a=(0,m.Z)(c,2),l=a[0],u=a[1],d=Object.keys(l.frozenRuns).length;E.useEffect((function(){n&&u({type:"reset",frozenRuns:s.current})}),[n]),E.useEffect((function(){n||(s.current=o)}),[n,o]);var p=(0,Y.D)(xe.kO),h=(0,m.Z)(p,1)[0],x=function(){var e=(0,q.Z)((0,K.Z)().mark((function e(){var n,t,o,s,c,a;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u({type:"start"}),n=Object.keys(l.frozenRuns),t=0,o=n;case 3:if(!(t<o.length)){e.next=13;break}return s=o[t],e.next=7,h({variables:{reexecutionParams:{parentRunId:s,strategy:r}}});case 7:c=e.sent,"LaunchRunSuccess"===(null===(a=c.data)||void 0===a?void 0:a.launchPipelineReexecution.__typename)?u({type:"reexecution-success"}):u({type:"reexecution-error",id:s,error:me(a)});case 10:t++,e.next=3;break;case 13:u({type:"complete"}),i(l.reexecution);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f="reexecuting"!==l.step;return(0,A.jsxs)(T.Vq,{isOpen:n,title:r===oe.hmq.ALL_STEPS?"Re-execute runs":"Re-execute runs from failure",canEscapeKeyClose:f,canOutsideClickClose:f,onClose:t,children:[(0,A.jsx)(T.a7,{children:(0,A.jsxs)(pe.Z,{direction:"column",spacing:24,children:[function(){switch(l.step){case"initial":if(!d)return(0,A.jsxs)(pe.Z,{direction:"column",spacing:16,children:[(0,A.jsx)("div",{children:"No runs selected for re-execution."}),(0,A.jsx)("div",{children:"The runs you selected may already have finished executing."})]});return(0,A.jsx)(pe.Z,{direction:"column",spacing:16,children:(0,A.jsx)("div",{children:r===oe.hmq.ALL_STEPS?(0,A.jsxs)("span",{children:["".concat(d," ").concat(1===d?"run":"runs"," will be re-executed "),(0,A.jsx)("strong",{children:"with all steps"}),". Do you wish to continue?"]}):(0,A.jsxs)("span",{children:["".concat(d," ").concat(1===d?"run":"runs"," will be re-executed "),(0,A.jsx)("strong",{children:"from failure"}),". Do you wish to continue?"]})})});case"reexecuting":case"completed":var e=d>0?l.reexecution.completed/d:1;return(0,A.jsxs)(pe.Z,{direction:"column",spacing:8,children:[(0,A.jsx)(de.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"reexecuting"===l.step?(0,A.jsx)(he.c,{message:"Re-execution in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===l.step)return null;if("reexecuting"===l.step)return(0,A.jsx)("div",{children:"Please do not close the window or navigate away during re-execution."});var e=l.reexecution.errors,n=Object.keys(e).length,t=l.reexecution.completed-n;return(0,A.jsxs)(pe.Z,{direction:"column",spacing:8,children:[t?(0,A.jsxs)(pe.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,A.jsx)(v.JO,{name:"check_circle",color:b.w.Green500}),(0,A.jsx)("div",{children:"Successfully requested re-execution for ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,A.jsxs)(pe.Z,{direction:"column",spacing:8,children:[(0,A.jsxs)(pe.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,A.jsx)(v.JO,{name:"warning",color:b.w.Yellow500}),(0,A.jsx)("div",{children:"Could not request re-execution for ".concat(n," ").concat(1===n?"run":"runs",":")})]}),(0,A.jsx)("ul",{children:Object.keys(e).map((function(n){return(0,A.jsx)("li",{children:(0,A.jsxs)(pe.Z,{direction:"row",spacing:8,alignItems:"baseline",children:[(0,A.jsx)(C.fv,{children:n.slice(0,8)}),e[n]?(0,A.jsx)("div",{children:fe(e[n])}):null]})},n)}))})]}):null]})}()]})}),(0,A.jsx)(T.cN,{children:function(){switch(l.step){case"initial":return d?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(R.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,A.jsx)(R.zx,{intent:"primary",onClick:x,children:"Re-execute ".concat("".concat(d," ").concat(1===d?"run":"runs"))})]}):(0,A.jsx)(R.zx,{intent:"none",onClick:t,children:"OK"});case"reexecuting":return(0,A.jsx)(R.zx,{intent:"primary",disabled:!0,children:"Re-executing ".concat("".concat(d," ").concat(1===d?"run":"runs","..."))});case"completed":return(0,A.jsx)(R.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})},ye=t(44355),we=t(24095),Ce=t(97298),Ze=t(16483),be=E.memo((function(e){var n,t=e.run,i=e.onAddTag,r=e.additionalActionsForRun,o=E.useContext(xe.Lw).refetch,s=E.useState("none"),c=(0,m.Z)(s,2),a=c[0],l=c[1],u=E.useContext(ne.I).rootServerURI,d=(0,ee.k6)(),h=(0,re.m)(),x=(0,Y.D)(xe.kO,{onCompleted:o}),f=(0,m.Z)(x,1)[0],j=(0,Q.t)(Re,{variables:{runId:t.id}}),y=(0,m.Z)(j,2),w=y[0],C=y[1],Z=C.called,b=C.loading,k=C.data,O=function(){l("none")},I=function(){o()},S="Run"===(null===k||void 0===k||null===(n=k.pipelineRunOrError)||void 0===n?void 0:n.__typename)?null===k||void 0===k?void 0:k.pipelineRunOrError:null,P=null===S||void 0===S?void 0:S.runConfigYaml,_=(0,G.n)(S),z=(0,Ze.J)((0,p.Z)((0,p.Z)({},t),{},{parentPipelineSnapshotId:null===S||void 0===S?void 0:S.parentPipelineSnapshotId})),F=ye.cv.has(t.status),D=!(!_||!(0,le.E8)(null===_||void 0===_?void 0:_.match,t.pipelineName)),L=!!Z&&!b,V=E.useMemo((function(){return t.hasReExecutePermission?z?{disabled:z.disabled,message:z.tooltip}:L?{disabled:!1}:{disabled:!0}:{disabled:!0,message:ie.Qr}}),[t.hasReExecutePermission,z,L]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(R.zH,{children:[(0,A.jsx)(M.A,{to:"/runs/".concat(t.id),children:"View run"}),(0,A.jsx)(N.J,{content:(0,A.jsxs)($.v2,{children:[(0,A.jsx)($.sN,{tagName:"button",text:b?"Loading configuration...":"View configuration...",disabled:!P,icon:"open_in_new",onClick:function(){return l("config")}}),(0,A.jsx)($.sN,{tagName:"button",text:(0,A.jsxs)("div",{style:{display:"contents"},children:["View all tags",(0,A.jsx)(g.x,{flex:{justifyContent:"center",alignItems:"center",display:"inline-flex"},padding:{horizontal:8},children:(0,A.jsx)(Ee,{children:"t"})})]}),icon:"tag",onClick:function(){return l("tags")}}),t.pipelineSnapshotId?(0,A.jsx)(Oe,{to:(0,ce.sS)(t.pipelineName,t.pipelineSnapshotId),children:(0,A.jsx)($.sN,{tagName:"button",icon:"job",text:"View snapshot",onClick:function(){return l("tags")}})}):null,(0,A.jsx)($.R,{}),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(W.u,{content:t.hasReExecutePermission?Te:se.U,position:"left",disabled:L&&t.hasReExecutePermission,targetTagName:"div",children:(0,A.jsx)(ae.U,{text:"Open in Launchpad...",disabled:!L||!t.hasReExecutePermission,icon:"edit",to:(0,J.$O)({id:t.id,pipelineName:t.pipelineName,repositoryName:null===_||void 0===_?void 0:_.match.repository.name,repositoryLocationName:null===_||void 0===_?void 0:_.match.repositoryLocation.name,isJob:D})})}),(0,A.jsx)(W.u,{content:V.message||"",position:"left",canShow:V.disabled,targetTagName:"div",children:(0,A.jsx)($.sN,{tagName:"button",text:"Re-execute",disabled:V.disabled,icon:"refresh",onClick:(0,q.Z)((0,K.Z)().mark((function e(){var n,i;return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_||!P){e.next=5;break}return e.next=3,f({variables:(0,xe.kz)({run:(0,p.Z)((0,p.Z)({},t),{},{runConfigYaml:P}),style:{type:"all"},repositoryLocationName:_.match.repositoryLocation.name,repositoryName:_.match.repository.name})});case 3:i=e.sent,(0,xe.lF)(t.pipelineName,null===(n=i.data)||void 0===n?void 0:n.launchPipelineReexecution,d,{behavior:"open"});case 5:case"end":return e.stop()}}),e)})))})}),F||!t.hasTerminatePermission?null:(0,A.jsx)($.sN,{tagName:"button",icon:"cancel",text:"Terminate",onClick:function(){return l("terminate")}}),null===r||void 0===r?void 0:r(t),(0,A.jsx)($.R,{})]}),(0,A.jsx)($.AL,{text:"Download debug file",icon:"download_for_offline",download:!0,href:"".concat(u,"/download_debug/").concat(t.id)}),t.hasDeletePermission?(0,A.jsx)($.sN,{tagName:"button",icon:"delete",text:"Delete",intent:"danger",onClick:function(){return l("delete")}}):null]}),position:"bottom-right",onOpening:function(){Z||w()},children:(0,A.jsx)(R.zx,{icon:(0,A.jsx)(v.JO,{name:"expand_more"})})})]}),t.hasTerminatePermission?(0,A.jsx)(Ce.A,{isOpen:"terminate"===a,onClose:O,onComplete:I,selectedRuns:(0,B.Z)({},t.id,t.canTerminate)}):null,t.hasDeletePermission?(0,A.jsx)(ue.N,{isOpen:"delete"===a,onClose:O,onComplete:I,onTerminateInstead:function(){return l("terminate")},selectedRuns:(0,B.Z)({},t.id,t.canTerminate)}):null,(0,A.jsxs)(T.Vq,{isOpen:"tags"===a,title:"Tags",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:O,children:[(0,A.jsx)(T.a7,{children:(0,A.jsx)(we.Q,{tags:t.tags,mode:D?"default"!==t.mode?t.mode:null:t.mode,onAddTag:i})}),(0,A.jsx)(T.cN,{topBorder:!0,children:(0,A.jsx)(R.zx,{intent:"primary",onClick:O,children:"Close"})})]}),(0,A.jsxs)(T.Vq,{isOpen:"config"===a,title:"Config",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:O,children:[(0,A.jsx)(X.NU,{value:P||"",options:{lineNumbers:!0,mode:"yaml"}}),(0,A.jsxs)(T.cN,{topBorder:!0,children:[(0,A.jsx)(R.zx,{intent:"none",onClick:(0,q.Z)((0,K.Z)().mark((function e(){return(0,K.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(P||""),e.next=3,(0,te.B7)({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"});case 3:case"end":return e.stop()}}),e)}))),children:"Copy config"}),(0,A.jsx)(R.zx,{intent:"primary",onClick:O,children:"OK"})]})]})]})})),ke=E.memo((function(e){var n=e.selected,t=e.clearSelection,i=E.useContext(xe.Lw).refetch,r=E.useState("none"),o=(0,m.Z)(r,2),s=o[0],c=o[1],a=E.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission}))}),[n]),l=E.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission}))}),[n]),u=E.useMemo((function(){return n.some((function(e){return e.hasReExecutePermission}))}),[n]),d=!a&&!l,h=n.filter((function(e){return!ye.cv.has(null===e||void 0===e?void 0:e.status)&&e.hasTerminatePermission})),x=h.map((function(e){return e.id})),f=h.reduce((function(e,n){return(0,p.Z)((0,p.Z)({},e),{},(0,B.Z)({},n.id,n.canTerminate))}),{}),g=n.map((function(e){return e.id})),j=n.reduce((function(e,n){return(0,p.Z)((0,p.Z)({},e),{},(0,B.Z)({},n.id,n.canTerminate))}),{}),y=n.filter((function(e){return ye.hd.has(null===e||void 0===e?void 0:e.status)&&e.hasReExecutePermission})),w=y.reduce((function(e,n){return(0,p.Z)((0,p.Z)({},e),{},(0,B.Z)({},n.id,n.id))}),{}),C=n.filter((function(e){return ye.cv.has(null===e||void 0===e?void 0:e.status)&&e.hasReExecutePermission})),Z=C.reduce((function(e,n){return(0,p.Z)((0,p.Z)({},e),{},(0,B.Z)({},n.id,n.id))}),{}),b=function(){c("none")},k=function(){t(),i()};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(N.J,{disabled:d||0===n.length,content:(0,A.jsxs)($.v2,{children:[a?(0,A.jsx)($.sN,{icon:"cancel",text:"Terminate ".concat(x.length," ").concat(1===x.length?"run":"runs"),disabled:0===x.length,onClick:function(){c("terminate")}}):null,l?(0,A.jsx)($.sN,{icon:"delete",intent:"danger",text:"Delete ".concat(g.length," ").concat(1===g.length?"run":"runs"),disabled:0===g.length,onClick:function(){c("delete")}}):null,u?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)($.sN,{icon:"refresh",text:"Re-execute ".concat(C.length," ").concat(1===C.length?"run":"runs"),disabled:0===C.length,onClick:function(){c("reexecute")}}),(0,A.jsx)($.sN,{icon:"refresh",text:"Re-execute ".concat(y.length," ").concat(1===y.length?"run":"runs"," from failure"),disabled:0===y.length,onClick:function(){c("reexecute-from-failure")}})]}):null]}),position:"bottom-right",children:(0,A.jsx)(R.zx,{disabled:d||0===n.length,rightIcon:(0,A.jsx)(v.JO,{name:"expand_more"}),intent:"primary",children:"Actions"})}),(0,A.jsx)(Ce.A,{isOpen:"terminate"===s,onClose:b,onComplete:k,selectedRuns:f}),(0,A.jsx)(ue.N,{isOpen:"delete"===s,onClose:b,onComplete:k,onTerminateInstead:function(){return c("terminate")},selectedRuns:j}),(0,A.jsx)(ve,{isOpen:"reexecute-from-failure"===s,onClose:b,onComplete:k,selectedRuns:w,reexecutionStrategy:oe.hmq.FROM_FAILURE}),(0,A.jsx)(ve,{isOpen:"reexecute"===s,onClose:b,onComplete:k,selectedRuns:Z,reexecutionStrategy:oe.hmq.ALL_STEPS})]})})),Te="Launchpad is unavailable because the pipeline is not present in the current repository.",Re=(0,f.Ps)(o||(o=(0,x.Z)(["\n  query PipelineEnvironmentQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        pipelineName\n        pipelineSnapshotId\n        runConfigYaml\n        pipelineName\n        parentPipelineSnapshotId\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n      }\n    }\n  }\n"]))),Ee=O.ZP.div(s||(s=(0,x.Z)(["\n  border-radius: 4px;\n  padding: 0px 6px;\n  background: ",";\n  color: ",";\n"])),b.w.Gray100,b.w.Gray500),Oe=(0,O.ZP)(z.rU)(c||(c=(0,x.Z)(["\n  text-decoration: none !important;\n"]))),Ne=t(97621),Ae=t(52141),Ie=E.memo((function(e){var n=e.tags;return(0,A.jsx)(g.x,{flex:{direction:"column",alignItems:"flex-start"},children:(0,A.jsx)(Se,{tags:n})})})),Se=function(e){var n=e.tags,t=(0,Ne.C)().UserDisplay,i=n.find((function(e){return e.key===Ae.H.User}));if(i)return(0,A.jsx)(t,{email:i.value});var r=n.find((function(e){return e.key===Ae.H.ScheduleName}));if(r)return(0,A.jsx)(Z.V,{icon:"schedule",children:r.value});var o=n.find((function(e){return e.key===Ae.H.SensorName}));return o?(0,A.jsx)(Z.V,{icon:"sensors",children:o.value}):n.some((function(e){return e.key===Ae.H.Automaterialize||e.key===Ae.H.CreatedBy&&"auto_materialize"===e.value}))?(0,A.jsx)(Z.V,{icon:"auto_materialize_policy",children:"Auto-materialize policy"}):n.some((function(e){return e.key===Ae.H.AutoObserve}))?(0,A.jsx)(Z.V,{icon:"auto_observe",children:"Auto-observation"}):(0,A.jsx)(Z.V,{icon:"account_circle",children:"Manually launched"})},Pe=t(73354),_e=t(9251),ze=t.p+"static/media/ShowAndHideRunTags.3fa9746ba2f415094d25.mp4",Fe=function(e){var n=e.runs,t=e.filter,i=e.onAddTag,r=e.highlightedIds,o=e.actionBarComponents,s=e.belowActionBarComponents,c=e.hideCreatedBy,a=e.emptyState,l=n.map((function(e){return e.id})),u=(0,L.a)(l),d=(0,m.Z)(u,2),p=d[0].checkedIds,h=d[1],x=h.onToggleFactory,f=h.onToggleAll,C=E.useMemo((function(){return n.some((function(e){return e.hasTerminatePermission||e.hasDeletePermission}))}),[n]);var Z=n.filter((function(e){return p.has(e.id)}));return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Me,{top:(0,A.jsxs)(g.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center",grow:1},children:[o,(0,A.jsx)(ke,{selected:Z,clearSelection:function(){return f(!1)}})]}),bottom:s}),function(){if(0===n.length){var o=!!Object.keys(t||{}).length;return a?(0,A.jsx)(A.Fragment,{children:a()}):(0,A.jsx)("div",{children:(0,A.jsx)(g.x,{margin:{vertical:32},children:o?(0,A.jsx)(j.t,{icon:"run",title:"No matching runs",description:"No runs were found for this filter."}):(0,A.jsx)(j.t,{icon:"run",title:"No runs found",description:(0,A.jsxs)(g.x,{flex:{direction:"column",gap:12},children:[(0,A.jsx)("div",{children:"You have not launched any runs yet."}),(0,A.jsxs)(g.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,A.jsx)(M.A,{icon:(0,A.jsx)(v.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,A.jsx)("span",{children:"or"}),(0,A.jsx)(M.A,{icon:(0,A.jsx)(v.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})})})}return(0,A.jsxs)(y.i,{children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{children:[C?(0,A.jsx)("th",{style:{width:42,paddingTop:0,paddingBottom:0},children:(0,A.jsx)(w.X,{indeterminate:p.size>0&&p.size!==n.length,checked:p.size===n.length,onChange:function(e){e.target instanceof HTMLInputElement&&f(e.target.checked)}})}):null,(0,A.jsx)("th",{style:{width:90},children:"Run ID"}),(0,A.jsx)("th",{style:{width:180},children:"Created date"}),(0,A.jsx)("th",{children:(0,A.jsx)(Be,{})}),c?null:(0,A.jsx)("th",{style:{width:160},children:"Launched by"}),(0,A.jsx)("th",{style:{width:120},children:"Status"}),(0,A.jsx)("th",{style:{width:190},children:"Duration"}),e.additionalColumnHeaders,(0,A.jsx)("th",{style:{width:52}})]})}),(0,A.jsx)("tbody",{children:n.map((function(n){var t;return(0,A.jsx)(Ve,{canTerminateOrDelete:n.hasTerminatePermission||n.hasDeletePermission,run:n,onAddTag:i,checked:p.has(n.id),additionalColumns:null===(t=e.additionalColumnsForRow)||void 0===t?void 0:t.call(e,n),additionalActionsForRun:e.additionalActionsForRun,onToggleChecked:x(n.id),isHighlighted:r&&r.includes(n.id),hideCreatedBy:c},n.id)}))})]})}()]})},De=(0,f.Ps)(a||(a=(0,x.Z)(["\n  fragment RunTagsFragment on PipelineTag {\n    key\n    value\n  }\n"]))),Le=(0,f.Ps)(l||(l=(0,x.Z)(["\n  fragment RunTableRunFragment on Run {\n    id\n    status\n    stepKeysToExecute\n    canTerminate\n    hasReExecutePermission\n    hasTerminatePermission\n    hasDeletePermission\n    mode\n    rootRunId\n    parentRunId\n    pipelineSnapshotId\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    status\n    tags {\n      ...RunTagsFragment\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n  ","\n"])),xe.$X,De),Ve=function(e){var n,t=e.run,i=e.canTerminateOrDelete,r=e.onAddTag,o=e.checked,s=e.onToggleChecked,c=e.additionalColumns,a=e.additionalActionsForRun,l=e.isHighlighted,u=e.hideCreatedBy,d=t.pipelineName,x=(0,G.r)(t),f=E.useMemo((function(){if(x){var e=x.match.repository.pipelines.find((function(e){return e.name===d}));return!(null===e||void 0===e||!e.isJob)}return!1}),[x,d]),j=(0,V.U)("pinned-system-tags",(function(e){return Array.isArray(e)?e:[]})),y=(0,m.Z)(j,2),O=y[0],N=y[1],I=(0,V.U)("unpinned-tags",(function(e){return Array.isArray(e)?e:[]})),S=(0,m.Z)(I,2),P=S[0],_=S[1],L=E.useMemo((function(){var e=(0,h.Z)(t.tags);return(f&&"default"!==t.mode||!f)&&e.push({key:"mode",value:t.mode}),e.map((function(e){return(0,p.Z)((0,p.Z)({},e),{},{pinned:Je(e.key)?-1!==O.indexOf(e.key):-1===P.indexOf(e.key)})}))}),[t,f,O,P]),M=t.tags.some((function(e){return e.key===Ae.H.ParentRunId})),B=L.find((function(e){return e.key===Ae.H.Backfill})),K=E.useState(!1),q=(0,m.Z)(K,2),Y=q[0],Q=q[1],$=E.useState(!1),W=(0,m.Z)($,2),X=W[0],ee=W[1],ne=E.useMemo((function(){var e=new Set([]),n=[];if(B&&B.pinned){var i,r=null!==(i=t.assetSelection)&&void 0!==i&&i.length?"/overview/backfills/".concat(B.value):(0,_e.it)([{token:"tag",value:"".concat(Ae.H.Backfill,"=").concat(B.value)}]);n.push((0,p.Z)((0,p.Z)({},B),{},{link:r})),e.add(Ae.H.Backfill)}return L.forEach((function(t){e.has(t.key)||t.pinned&&n.push(t)})),n}),[B,L,null===(n=t.assetSelection)||void 0===n?void 0:n.length]),te=E.useCallback((function(e){Je(e)?N((function(n){return He(n,e)})):_((function(n){return He(n,e)}))}),[_,N]);return(0,A.jsxs)(Ue,{highlighted:!!l,onMouseEnter:function(){ee(!0)},onMouseLeave:function(){ee(!1)},children:[i?(0,A.jsx)("td",{children:s?(0,A.jsx)(w.X,{checked:!!o,onChange:function(e){if(e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");s&&s({checked:n,shiftKey:t})}}}):null}):null,(0,A.jsx)("td",{children:(0,A.jsx)(z.rU,{to:"/runs/".concat(t.id),children:(0,A.jsx)(C.fv,{children:(0,xe.EI)(t)})})}),(0,A.jsx)("td",{children:(0,A.jsxs)(g.x,{flex:{direction:"column",gap:4},children:[(0,A.jsx)(xe.Zr,{run:t}),M?(0,A.jsx)("div",{children:(0,A.jsx)(Z.V,{icon:"cached",children:"Re-execution"})}):null]})}),(0,A.jsxs)("td",{style:{position:"relative"},children:[(0,A.jsxs)(g.x,{flex:{direction:"column",gap:5},children:[(0,D.pv)(t.pipelineName)?(0,A.jsx)(H.m,{assetKeys:(0,xe.Bo)(t)}):(0,A.jsxs)(g.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,A.jsx)(U.h,{isJob:f,showIcon:!0,pipelineName:t.pipelineName,pipelineHrefContext:"no-link"}),(0,A.jsx)(z.rU,{to:x?(0,J.jT)({repoName:x.match.repository.name,repoLocation:x.match.repositoryLocation.name,pipelineName:t.pipelineName,isJob:f}):(0,J.r4)(t.pipelineName),target:"_blank",children:(0,A.jsx)(v.JO,{name:"open_in_new",color:b.w.Blue500})})]}),(0,A.jsxs)(g.x,{flex:{direction:"row",alignItems:"center",wrap:"wrap"},style:{gap:"4px 8px"},children:[(0,A.jsx)(Ge,{children:ne.length?(0,A.jsx)(we.Q,{tags:ne,onAddTag:r,onToggleTagPin:te}):null}),L.length>ne.length?(0,A.jsx)(C.YS,{children:(0,A.jsxs)(k.Z,{onClick:function(){Q(!0)},color:b.w.Gray700,style:{margin:"-4px",padding:"4px"},children:["View all tags (",L.length,")"]})}):null]})]}),X&&L.length?(0,A.jsx)(F.b,{onShortcut:function(){Q((function(e){return!e}))},shortcutLabel:"t",shortcutFilter:function(e){return"KeyT"===e.code},children:null},"runtabletags"):null]}),u?null:(0,A.jsx)("td",{children:(0,A.jsx)(Ie,{tags:t.tags||[]})}),(0,A.jsx)("td",{children:(0,A.jsx)(Pe.M9,{status:t.status,runId:t.id})}),(0,A.jsx)("td",{children:(0,A.jsx)(xe.Tw,{run:t})}),c,(0,A.jsx)("td",{children:(0,A.jsx)(be,{run:t,onAddTag:r,additionalActionsForRun:a})}),(0,A.jsxs)(T.Vq,{isOpen:Y,title:"Tags",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:function(){Q(!1)},children:[(0,A.jsx)(T.a7,{children:(0,A.jsx)(we.Q,{tags:L,onAddTag:r,onToggleTagPin:te})}),(0,A.jsx)(T.cN,{topBorder:!0,children:(0,A.jsx)(R.zx,{intent:"primary",onClick:function(){Q(!1)},children:"Close"})})]})]})},Ue=O.ZP.tr(u||(u=(0,x.Z)(["\n  ","\n"])),(function(e){return e.highlighted?"box-shadow: inset 3px 3px #bfccd6, inset -3px -3px #bfccd6;":null}));function Me(e){var n=e.top,t=e.bottom;return(0,A.jsxs)(g.x,{flex:{direction:"column"},padding:{vertical:12},children:[(0,A.jsx)(g.x,{flex:{alignItems:"center",gap:12},padding:{left:24,right:24},children:n}),t?(0,A.jsx)(g.x,{margin:{top:12},padding:{left:24,right:12,top:8},border:{side:"top",width:1,color:b.w.KeylineGray},flex:{gap:8},children:t}):null]})}var Ge=O.ZP.div(d||(d=(0,x.Z)(["\n  display: contents;\n  > * {\n    display: contents;\n  }\n"])));function Je(e){return e.startsWith(Ae.H.Namespace)&&e!==Ae.H.Partition&&e!==Ae.H.Backfill||"mode"===e}function He(e,n){var t=e||[];return-1!==t.indexOf(n)?t.filter((function(e){return e!==n})):[].concat((0,h.Z)(t),[n])}function Be(){var e=(0,V.U)("RunTableTabPinningNux",(function(e){return e})),n=(0,m.Z)(e,2),t=n[0],i=n[1];return t?(0,A.jsx)("div",{children:"Target"}):(0,A.jsx)(S,{title:"Hide and show run tags",description:(0,A.jsx)(A.Fragment,{children:"You can show tags that you prefer quick access to and hide tags you don't by hovering over the tag and selecting the show/hide tag option."}),position:I.BOTTOM_RIGHT,video:ze,width:"616px",actions:{dismiss:function(){i("1")}},children:(0,A.jsx)("div",{children:"Target"})})}},97298:function(e,n,t){t.d(n,{A:function(){return T}});var i=t(32723),r=t(34795),o=t(96234),s=t(56666),c=t(33028),a=t(15541),l=t(60864),u=t(49668),d=t(14957),p=t(40302),h=t(29427),x=t(69059),m=t(85049),f=t(99600),g=t(16854),j=t(78193),v=t(4534),y=t(78222),w=t(43371),C=t(35936),Z=function(e){if("TerminateRunSuccess"===(null===e||void 0===e?void 0:e.terminatePipelineExecution.__typename))throw new ErrorEvent("Not an error!");return null===e||void 0===e?void 0:e.terminatePipelineExecution},b=function(e){return{mustForce:!Object.keys(e).some((function(n){return e[n]})),frozenRuns:e,step:"initial",termination:{completed:0,errors:{}}}},k=function(e,n){switch(n.type){case"reset":return b(n.frozenRuns);case"toggle-force-terminate":return(0,c.Z)((0,c.Z)({},e),{},{mustForce:n.checked});case"start":return(0,c.Z)((0,c.Z)({},e),{},{step:"terminating"});case"termination-success":var t=e.termination;return(0,c.Z)((0,c.Z)({},e),{},{step:"terminating",termination:(0,c.Z)((0,c.Z)({},t),{},{completed:t.completed+1})});case"termination-error":var i=e.termination;return(0,c.Z)((0,c.Z)({},e),{},{step:"terminating",termination:(0,c.Z)((0,c.Z)({},i),{},{completed:i.completed+1,errors:(0,c.Z)((0,c.Z)({},i.errors),{},(0,s.Z)({},n.id,n.error))})});case"complete":return(0,c.Z)((0,c.Z)({},e),{},{step:"completed"})}},T=function(e){var n=e.isOpen,t=e.onClose,s=e.onComplete,c=e.selectedRuns,T=j.useRef(c),R=j.useReducer(k,T.current,b),E=(0,o.Z)(R,2),O=E[0],N=E[1],A=Object.keys(O.frozenRuns).length;j.useEffect((function(){n&&N({type:"reset",frozenRuns:T.current})}),[n]),j.useEffect((function(){n||(T.current=c)}),[n,c]);var I=(0,a.D)(w.zU),S=(0,o.Z)(I,1)[0],P=O.mustForce?v.vlg.MARK_AS_CANCELED_IMMEDIATELY:v.vlg.SAFE_TERMINATE,_=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r,o,c,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N({type:"start"}),n=Object.keys(O.frozenRuns),t=0,r=n;case 3:if(!(t<r.length)){e.next=13;break}return o=r[t],e.next=7,S({variables:{runId:o,terminatePolicy:P}});case 7:c=e.sent,"TerminateRunSuccess"===(null===(a=c.data)||void 0===a?void 0:a.terminatePipelineExecution.__typename)?N({type:"termination-success"}):N({type:"termination-error",id:o,error:Z(a)});case 10:t++,e.next=3;break;case 13:N({type:"complete"}),s(O.termination);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e){N({type:"toggle-force-terminate",checked:e.target.checked})},F=Object.keys(O.frozenRuns).some((function(e){return O.frozenRuns[e]})),D="terminating"!==O.step;return(0,C.jsxs)(g.Vq,{isOpen:n,title:"Terminate runs",canEscapeKeyClose:D,canOutsideClickClose:D,onClose:t,children:[(0,C.jsx)(g.a7,{children:(0,C.jsxs)(u.Z,{direction:"column",spacing:24,children:[function(){switch(O.step){case"initial":return A?(0,C.jsxs)(u.Z,{direction:"column",spacing:16,children:[(0,C.jsx)("div",{children:"".concat(A," ").concat(1===A?"run":"runs"," will be terminated. Do you wish to continue?")}),(0,C.jsx)("div",{children:F?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.X,{checked:O.mustForce,size:"small",label:"Force termination immediately",onChange:z}),O.mustForce?(0,C.jsxs)(p.x,{flex:{display:"flex",direction:"row",gap:8},margin:{top:8},children:[(0,C.jsx)(h.JO,{name:"warning",color:x.w.Yellow500}),(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Warning:"})," computational resources created by runs may not be cleaned up."]})]}):null]}):(0,C.jsxs)(u.Z,{direction:"row",spacing:8,children:[(0,C.jsx)(h.JO,{name:"warning",color:x.w.Yellow500}),(0,C.jsxs)("div",{children:[(0,C.jsx)("strong",{children:"Warning:"})," computational resources created by runs may not be cleaned up."]})]})})]}):(0,C.jsxs)(u.Z,{direction:"column",spacing:16,children:[(0,C.jsx)("div",{children:"No runs selected for termination."}),(0,C.jsx)("div",{children:"The runs you selected may already have finished executing."})]});case"terminating":case"completed":var e=A>0?O.termination.completed/A:1;return(0,C.jsxs)(u.Z,{direction:"column",spacing:8,children:[(0,C.jsx)("div",{children:O.mustForce?"Forcing termination\u2026":"Terminating\u2026"}),(0,C.jsx)(l.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"terminating"===O.step?(0,C.jsx)(y.c,{message:"Termination in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===O.step)return null;if("terminating"===O.step)return(0,C.jsx)("div",{children:"Please do not close the window or navigate away during termination."});var e=O.termination.errors,n=Object.keys(e).length,t=O.termination.completed-n;return(0,C.jsxs)(u.Z,{direction:"column",spacing:8,children:[t?(0,C.jsxs)(u.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,C.jsx)(h.JO,{name:"check_circle",color:x.w.Green500}),(0,C.jsx)("div",{children:O.mustForce?"Successfully forced termination for ".concat(t,"\n                ").concat(1===t?"run":"runs","."):"Successfully requested termination for ".concat(t,"\n              ").concat(1===t?"run":"runs",".")})]}):null,n?(0,C.jsxs)(u.Z,{direction:"column",spacing:8,children:[(0,C.jsxs)(u.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,C.jsx)(h.JO,{name:"warning",color:x.w.Yellow500}),(0,C.jsx)("div",{children:O.mustForce?"Could not force termination for ".concat(n," ").concat(1===n?"run":"runs",":"):"Could not request termination for ".concat(n," ").concat(1===n?"run":"runs",":")})]}),(0,C.jsx)("ul",{children:Object.keys(e).map((function(n){var t;return(0,C.jsx)("li",{children:(0,C.jsxs)(u.Z,{direction:"row",spacing:8,children:[(0,C.jsx)(f.fv,{children:n.slice(0,8)}),e[n]?(0,C.jsx)("div",{children:null===(t=e[n])||void 0===t?void 0:t.message}):null]})},n)}))})]}):null]})}()]})}),(0,C.jsx)(g.cN,{children:function(){switch(O.step){case"initial":return A?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,C.jsx)(m.zx,{intent:"danger",onClick:_,children:"".concat(O.mustForce?"Force termination for":"Terminate"," ","".concat(A," ").concat(1===A?"run":"runs"))})]}):(0,C.jsx)(m.zx,{intent:"none",onClick:t,children:"OK"});case"terminating":return(0,C.jsx)(m.zx,{intent:"danger",disabled:!0,children:O.mustForce?"Forcing termination for ".concat("".concat(A," ").concat(1===A?"run":"runs","...")):"Terminating ".concat("".concat(A," ").concat(1===A?"run":"runs","..."))});case"completed":return(0,C.jsx)(m.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})}},16483:function(e,n,t){t.d(n,{J:function(){return a}});var i=t(49668),r=(t(78193),t(97012)),o=t(70529),s=t(54860),c=t(35936),a=function(e){var n,t,a=(0,s.n)(e);if(!e)return null;if(!e.pipelineSnapshotId)return{icon:"error",tooltip:'"'.concat(e.pipelineName,'" could not be found.'),disabled:!0};if(a){var l=a.type;if("origin-and-snapshot"===l)return null;if("origin-only"===l)return{icon:"warning",tooltip:'The loaded version of "'.concat(e.pipelineName,'" may be different than the one used for the original run.'),disabled:!1};if("snapshot-only"===l){var u=e.repositoryOrigin?(0,o.Uz)((0,r.kQ)(e.repositoryOrigin.repositoryName,e.repositoryOrigin.repositoryLocationName)):null;return{icon:"warning",tooltip:(0,c.jsxs)(i.Z,{direction:"column",spacing:4,children:[(0,c.jsx)("div",{children:'The original run loaded "'.concat(e.pipelineName,'" from ').concat(u||"a different code location",".")}),u?(0,c.jsxs)("div",{children:["Original definition in: ",(0,c.jsx)("strong",{children:u})]}):null]}),disabled:!1}}return{icon:"warning",tooltip:'The job "'.concat(e.pipelineName,'" may be a different version from the original pipeline run.'),disabled:!1}}var d=null===(n=e.repositoryOrigin)||void 0===n?void 0:n.repositoryName,p=null===(t=e.repositoryOrigin)||void 0===t?void 0:t.repositoryLocationName;return{icon:"error",tooltip:(0,c.jsxs)(i.Z,{direction:"column",spacing:8,children:[(0,c.jsx)("div",{children:'"'.concat(e.pipelineName,'" is not available in your definitions.')}),d&&p?(0,c.jsx)("div",{children:"Load definitions for ".concat((0,r.At)(d,p)," and try again.")}):null]}),disabled:!0}}},54860:function(e,n,t){t.d(n,{n:function(){return a},r:function(){return c}});var i=t(16365),r=t(79357),o=function(e,n){if(!n)return null;var t=n.pipelineName,i=n.repositoryOrigin;if(!i)return null;var o=null===i||void 0===i?void 0:i.repositoryLocationName,s=null===i||void 0===i?void 0:i.repositoryName,c=e.find((function(e){return e.repository.name===s&&e.repositoryLocation.name===o}));return c&&(0,r.h)(c,t)?c:null},s=function(e,n){if(!n)return null;var t=n.pipelineName,i=(0,r.k)(e,t);return i.length?i:null},c=function(e){var n=(0,i.vl)().options,t=o(n,e);if(t)return{match:t,type:"origin"};var r=s(n,e);return r&&r.length?{match:r[0],type:"pipeline-name-only"}:null},a=function(e){var n=(0,i.vl)().options,t=o(n,e),c=function(e,n){var t;if(!n)return null;var i=n.pipelineName,o=null!==(t=n.parentPipelineSnapshotId)&&void 0!==t?t:n.pipelineSnapshotId;if(i&&o){var s=(0,r.k)(e,i,o);if(s.length)return s}return null}(n,e),a=s(n,e);if(t){if(c){var l=c.find((function(e){return e.repository.name===t.repository.name&&e.repositoryLocation.name===t.repositoryLocation.name}));if(l)return{match:l,type:"origin-and-snapshot"}}return{match:t,type:"origin-only"}}return c&&c[0]?{match:c[0],type:"snapshot-only"}:a&&a[0]?{match:a[0],type:"pipeline-name-only"}:null}}}]);
//# sourceMappingURL=188.85447c01.chunk.js.map