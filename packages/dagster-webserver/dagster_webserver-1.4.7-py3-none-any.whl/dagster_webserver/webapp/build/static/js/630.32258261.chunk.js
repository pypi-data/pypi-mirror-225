(self.webpackChunk_dagster_io_app_oss=self.webpackChunk_dagster_io_app_oss||[]).push([[630],{68241:function(e,n,r){"use strict";r.d(n,{$H:function(){return j},Lg:function(){return y},eB:function(){return m}});var o=r(91170),t=r(29427),i=r(72979),s=r(40302),a=r(14957),u=r(8236),c=r.n(u),l=r(60457),p=r.n(l),d=r(78193),f=r(57980),g=r(97012),h=r(35936);function m(e){return d.useMemo((function(){return p()((e||[]).map(j).filter((function(e){return!!e})),(function(e){return JSON.stringify(e)})).sort((function(e,n){return e.groupName.localeCompare(n.groupName)}))}),[e])}var x={groupName:"-",repositoryLocationName:"-",repositoryName:"-"},y=function(e){var n=e.assetGroups,r=e.value,u=e.onChange,l=function(e){return"".concat(e.repositoryName,"@").concat(e.repositoryLocationName)},p=n[0]?l(n[0]):"",d=!n.every((function(e){return p===l(e)}));return(0,h.jsx)(o.U5,{selectedItem:r.length?x:null,items:n,menuWidth:300,inputProps:{style:{width:200},placeholder:"Filter asset groups\u2026",rightElement:r.length?(0,h.jsx)(f.C,{onClick:function(){return u([])},style:{marginTop:5,marginRight:4},children:(0,h.jsx)(t.JO,{name:"cancel"})}):void 0},inputValueRenderer:function(){return 1===r.length?r[0].groupName:r.length>1?"".concat(r.length," groups"):""},itemPredicate:function(e,n){return 0===e.length||n.groupName.toLowerCase().includes(e.toLowerCase())},itemsEqual:c(),itemRenderer:function(e,n){return(0,h.jsx)(i.sN,{active:n.modifiers.active,onClick:n.handleClick,text:(0,h.jsxs)(s.x,{flex:{direction:"row",gap:6,alignItems:"center"},margin:{left:4},style:{maxWidth:"500px"},children:[(0,h.jsx)(a.X,{checked:r.some((function(n){return c()(n,e)})),size:"small",readOnly:!0}),(0,h.jsx)(s.x,{flex:{direction:"row",alignItems:"center",grow:1,shrink:1},style:{overflow:"hidden"},children:(0,h.jsxs)("div",{style:{overflow:"hidden"},children:[e.groupName,d?(0,h.jsx)("span",{style:{opacity:.5,paddingLeft:4},children:(0,g.At)(e.repositoryName,e.repositoryLocationName)}):void 0]})})]})},JSON.stringify(e))},noResults:(0,h.jsx)(i.sN,{disabled:!0,text:"No asset groups"}),closeOnSelect:!1,resetOnQuery:!1,onItemSelect:function(e){var n=r.filter((function(n){return!c()(e,n)}));n.length===r.length&&n.push(e),u(n)}})};function j(e){return e.definition&&e.definition.groupName?{groupName:e.definition.groupName,repositoryName:e.definition.repository.name,repositoryLocationName:e.definition.repository.location.name}:null}},26689:function(e,n,r){"use strict";r.r(n),r.d(n,{AssetsGroupsGlobalGraphRoot:function(){return O}});var o=r(33028),t=r(96234),i=r(19427),s=r(38527),a=r(99600),u=r(8236),c=r.n(u),l=r(78193),p=r(50032),d=r(80375),f=r(25271),g=r(54202),h=r(96603),m=r(54577),x=r(26947),y=r(16365),j=r(68241),v=r(45384),N=r(35936),C="__GLOBAL__",O=function(){var e=(0,p.UO)()[0],n=l.useContext(y.C5),r=n.allRepos,u=n.visibleRepos,O=(0,p.k6)(),k=(0,g.q)({encode:function(e){var n=e.groups;return{groups:JSON.stringify(n)}},decode:function(e){return{groups:e.groups?JSON.parse(e.groups):[]}}}),L=(0,t.Z)(k,2),R=L[0],b=L[1];(0,f.j)("Global Asset Lineage");var w=l.useCallback((function(e,n){var r=(0,m.gY)((0,o.Z)((0,o.Z)({},e),{},{pipelineName:C})).replace(C,"");O[n]({pathname:"/asset-groups".concat(r),search:O.location.search})}),[O]),_=l.useCallback((function(e){O.push((0,v.p)(e.assetKey,{view:"definition"}))}),[O]),G=l.useMemo((function(){return{hideEdgesToNodesOutsideQuery:!1,hideNodesMatching:function(e){var n;if(!u.some((function(n){return n.repositoryLocation.name===e.repository.location.name&&n.repository.name===e.repository.name})))return!0;if(null!==(n=R.groups)&&void 0!==n&&n.length){var r=(0,j.$H)({definition:e});if(!R.groups.some((function(e){return c()(e,r)})))return!0}return!1}}}),[R.groups,u]),J=l.useMemo((function(){return u.flatMap((function(e){return e.repository.assetGroups.map((function(n){return{groupName:n.groupName,repositoryLocationName:e.repositoryLocation.name,repositoryName:e.repository.name}}))}))}),[u]);return(0,N.jsxs)(i.T,{style:{display:"flex",flexDirection:"column",paddingBottom:0},children:[(0,N.jsx)(s.m,{title:(0,N.jsx)(a.X6,{children:"Global Asset Lineage"}),right:(0,N.jsx)("div",{style:{marginBottom:-8},children:(0,N.jsx)(x.i,{label:"Reload definitions"})})}),(0,N.jsx)(d.OK,{fetchOptions:G,fetchOptionFilters:(0,N.jsxs)(N.Fragment,{children:[r.length>1&&(0,N.jsx)(h.C,{}),(0,N.jsx)(j.Lg,{assetGroups:J,value:R.groups||[],onChange:function(e){return b((0,o.Z)((0,o.Z)({},R),{},{groups:e}))}})]}),options:{preferAssetRendering:!0,explodeComposites:!0},explorerPath:(0,m.p3)(C+e||"/"),onChangeExplorerPath:w,onNavigateToSourceAssetNode:_})]})};n.default=O},96603:function(e,n,r){"use strict";r.d(n,{C:function(){return d}});var o=r(96234),t=r(16854),i=r(40302),s=r(85049),a=r(29427),u=r(78193),c=r(87248),l=r(16365),p=r(35936),d=function(){var e=u.useContext(l.C5),n=e.allRepos,r=e.visibleRepos,d=e.toggleVisible,f=u.useState(!1),g=(0,o.Z)(f,2),h=g[0],m=g[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(t.Vq,{canOutsideClickClose:!0,canEscapeKeyClose:!0,isOpen:h,style:{width:"auto"},onClose:function(){return m(!1)},children:[(0,p.jsx)(t.fK,{icon:"repo",label:"Filter code locations"}),(0,p.jsx)(c.e,{options:n,onBrowse:function(){return m(!1)},onToggle:d,selected:r}),(0,p.jsx)(t.cN,{children:(0,p.jsx)(i.x,{padding:{top:8},children:(0,p.jsx)(s.zx,{intent:"none",onClick:function(){return m(!1)},children:"Done"})})})]}),(0,p.jsx)(s.zx,{intent:"none",icon:(0,p.jsx)(a.JO,{name:"folder"}),rightIcon:(0,p.jsx)(a.JO,{name:"expand_more"}),onClick:function(){return m(!0)},children:"".concat(r.length," of ").concat(n.length)})]})}},26947:function(e,n,r){"use strict";r.d(n,{i:function(){return g}});var o=r(96234),t=r(34191),i=r(85049),s=r(29427),a=r(16854),u=r(78193),c=r(14762),l=r(18213),p=r(56441),d=r(23303),f=r(35936),g=function(e){var n=e.label,r=void 0===n?"Reload all":n,g=(0,c.WB)(),h=g.permissions.canReloadWorkspace,m=g.disabledReasons,x=(0,p.Dc)({scope:"workspace",reloadFn:p.rL}),y=x.reloading,j=x.tryReload,v=x.error,N=x.errorLocationId,C=u.useState(!!v),O=(0,o.Z)(C,2),k=O[0],L=O[1];return u.useEffect((function(){return L(!!v)}),[v]),h?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.zx,{onClick:j,icon:(0,f.jsx)(s.JO,{name:"refresh"}),loading:y,intent:"none",children:r}),N?(0,f.jsx)(d.V,{error:v,location:N,reloading:y,onTryReload:j,onDismiss:function(){return L(!1)},isOpen:k}):(0,f.jsxs)(a.Vq,{icon:"error",title:"Reload error",canEscapeKeyClose:!1,canOutsideClickClose:!1,style:{width:"90%"},isOpen:k,children:[(0,f.jsx)(a.a7,{children:v&&(0,f.jsx)(l.T9,{error:v})}),(0,f.jsx)(a.cN,{children:(0,f.jsx)(i.zx,{onClick:function(){return L(!1)},children:"Dismiss"})})]})]}):(0,f.jsx)(t.u,{content:m.canReloadWorkspace,children:(0,f.jsx)(i.zx,{icon:(0,f.jsx)(s.JO,{name:"refresh"}),disabled:!0,intent:"none",children:r})})}},225:function(e,n,r){var o=r(67268),t=r(86357),i=r(93550),s=r(9747),a=r(4564),u=r(59390);e.exports=function(e,n,r,c){var l=-1,p=t,d=!0,f=e.length,g=[],h=n.length;if(!f)return g;r&&(n=s(n,a(r))),c?(p=i,d=!1):n.length>=200&&(p=u,d=!1,n=new o(n));e:for(;++l<f;){var m=e[l],x=null==r?m:r(m);if(m=c||0!==m?m:0,d&&x===x){for(var y=h;y--;)if(n[y]===x)continue e;g.push(m)}else p(n,x,c)||g.push(m)}return g}},92578:function(e,n,r){var o=r(8945),t=r(70214);e.exports=function(e,n){return o(t(e,n),1)}},67656:function(e,n,r){var o=r(56797),t=r(93348)((function(e,n,r){o(e,r,n)}));e.exports=t},42918:function(e,n,r){var o=r(9747),t=r(39095),i=r(74864),s=r(70002);e.exports=function(e,n){if(null==e)return{};var r=o(s(e),(function(e){return[e]}));return n=t(n),i(e,r,(function(e,r){return n(e,r[0])}))}},97346:function(e,n,r){var o=r(225),t=r(94518),i=r(22482),s=t((function(e,n){return i(e)?o(e,n):[]}));e.exports=s}}]);
//# sourceMappingURL=630.32258261.chunk.js.map