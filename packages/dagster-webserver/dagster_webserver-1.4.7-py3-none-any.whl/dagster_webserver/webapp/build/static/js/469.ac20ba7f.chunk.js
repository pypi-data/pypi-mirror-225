"use strict";(self.webpackChunk_dagster_io_app_oss=self.webpackChunk_dagster_io_app_oss||[]).push([[469],{68241:function(e,n,t){t.d(n,{$H:function(){return v},Lg:function(){return y},eB:function(){return m}});var r=t(91170),i=t(29427),s=t(72979),o=t(40302),a=t(14957),l=t(8236),c=t.n(l),d=t(60457),u=t.n(d),h=t(78193),p=t(57980),f=t(97012),x=t(35936);function m(e){return h.useMemo((function(){return u()((e||[]).map(v).filter((function(e){return!!e})),(function(e){return JSON.stringify(e)})).sort((function(e,n){return e.groupName.localeCompare(n.groupName)}))}),[e])}var g={groupName:"-",repositoryLocationName:"-",repositoryName:"-"},y=function(e){var n=e.assetGroups,t=e.value,l=e.onChange,d=function(e){return"".concat(e.repositoryName,"@").concat(e.repositoryLocationName)},u=n[0]?d(n[0]):"",h=!n.every((function(e){return u===d(e)}));return(0,x.jsx)(r.U5,{selectedItem:t.length?g:null,items:n,menuWidth:300,inputProps:{style:{width:200},placeholder:"Filter asset groups\u2026",rightElement:t.length?(0,x.jsx)(p.C,{onClick:function(){return l([])},style:{marginTop:5,marginRight:4},children:(0,x.jsx)(i.JO,{name:"cancel"})}):void 0},inputValueRenderer:function(){return 1===t.length?t[0].groupName:t.length>1?"".concat(t.length," groups"):""},itemPredicate:function(e,n){return 0===e.length||n.groupName.toLowerCase().includes(e.toLowerCase())},itemsEqual:c(),itemRenderer:function(e,n){return(0,x.jsx)(s.sN,{active:n.modifiers.active,onClick:n.handleClick,text:(0,x.jsxs)(o.x,{flex:{direction:"row",gap:6,alignItems:"center"},margin:{left:4},style:{maxWidth:"500px"},children:[(0,x.jsx)(a.X,{checked:t.some((function(n){return c()(n,e)})),size:"small",readOnly:!0}),(0,x.jsx)(o.x,{flex:{direction:"row",alignItems:"center",grow:1,shrink:1},style:{overflow:"hidden"},children:(0,x.jsxs)("div",{style:{overflow:"hidden"},children:[e.groupName,h?(0,x.jsx)("span",{style:{opacity:.5,paddingLeft:4},children:(0,f.At)(e.repositoryName,e.repositoryLocationName)}):void 0]})})]})},JSON.stringify(e))},noResults:(0,x.jsx)(s.sN,{disabled:!0,text:"No asset groups"}),closeOnSelect:!1,resetOnQuery:!1,onItemSelect:function(e){var n=t.filter((function(n){return!c()(e,n)}));n.length===t.length&&n.push(e),l(n)}})};function v(e){return e.definition&&e.definition.groupName?{groupName:e.definition.groupName,repositoryName:e.definition.repository.name,repositoryLocationName:e.definition.repository.location.name}:null}},40142:function(e,n,t){t.d(n,{R:function(){return u}});var r=t(68079),i=t(40302),s=t(29427),o=t(69059),a=t(51232),l=(t(78193),t(97412)),c=t(45384),d=t(35936),u=function(e){var n=e.path,t=e.icon,u=e.url,h=e.isGroup,p=e.textStyle,f=void 0===p?"break-word":p,x=u||(0,c.p)({path:n}),m=n.reduce((function(e,n,t){return[].concat((0,r.Z)(e),[t>0?" / ":"",n])}),[]).join("")+(h?"/":"");return(0,d.jsxs)(i.x,{flex:{direction:"row",alignItems:"flex-start",display:"inline-flex"},style:{maxWidth:"100%"},children:[t?(0,d.jsx)(i.x,{margin:{right:8,top:2},children:(0,d.jsx)(s.JO,{name:t,color:o.w.Gray400})}):null,(0,d.jsx)(l.rU,{to:x,style:{overflow:"hidden"},children:"break-word"===f?(0,d.jsx)("span",{style:{wordBreak:"break-word"},children:m}):(0,d.jsx)(a.g,{text:m})})]})}},92576:function(e,n,t){t.d(n,{s:function(){return a},v:function(){return l}});var r,i,s=t(71171),o=t(31623),a=(0,o.Ps)(r||(r=(0,s.Z)(["\n  fragment AssetTableDefinitionFragment on AssetNode {\n    id\n    groupName\n    opNames\n    isSource\n    isObservable\n    computeKind\n    hasMaterializePermission\n    partitionDefinition {\n      description\n    }\n    description\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n  }\n"]))),l=(0,o.Ps)(i||(i=(0,s.Z)(["\n  fragment AssetTableFragment on Asset {\n    id\n    key {\n      path\n    }\n    definition {\n      id\n      ...AssetTableDefinitionFragment\n    }\n  }\n\n  ","\n"])),a)},33801:function(e,n,t){t.d(n,{C1:function(){return oe},fv:function(){return se}});var r,i,s,o=t(68079),a=t(71171),l=t(96234),c=t(90239),d=t(31623),u=t(40302),h=t(13793),p=t(27589),f=t(8236),x=t.n(f),m=t(78193),g=t(72885),y=t(18213),v=t(59298),j=t(54202),w=t(63727),k=t(68241),C=t(33028),N=t(34943),b=t(14957),S=t(69059),A=t(34191),z=t(85049),Z=t(29427),O=t(15888),P=t(72979),T=t(276),_=t.n(T),K=t(14762),q=t(23028),I=t(58735),F=t(25626),W=t(43690),E=t(38809),M=t(97012),R=t(35936),G=function(e){var n=e.headerCheckbox,t=e.prefixPath,r=e.groups,i=e.checkedDisplayKeys,s=e.onToggleFactory,a=e.onWipe,c=e.showRepoColumn,d=e.view,u=void 0===d?"flat":d,h=m.useRef(null),p=Object.keys(r).length,f=(0,F.useVirtualizer)({count:p,getScrollElement:function(){return h.current},estimateSize:function(){return 64},overscan:5}),x=f.getTotalSize(),g=f.getVirtualItems(),y=m.useMemo((function(){return Object.entries(r).map((function(e){var n=(0,l.Z)(e,2),r=n[0],i=n[1],s=[].concat((0,o.Z)(t),(0,o.Z)(JSON.parse(r)));return i.length>1||s.join("/")!==i[0].key.path.join("/")?{type:"folder",path:s,displayKey:r,assets:i}:{type:"asset",path:s,displayKey:r,asset:i[0]}}))}),[t,r]);return(0,R.jsx)("div",{style:{overflow:"hidden"},children:(0,R.jsxs)(W.W2,{ref:h,children:[(0,R.jsx)(E.R_,{headerCheckbox:n,view:u}),(0,R.jsx)(W.Nh,{$totalHeight:x,children:g.map((function(e){var n=e.index,t=e.key,r=e.size,o=e.start,l=y[n],d="folder"===l.type?l.assets:[l.asset];return(0,R.jsx)(E.pN,{view:u,type:"folder"===l.type?"folder":l.asset.definition?"asset":"asset_non_sda",path:l.path,definition:"asset"===l.type?l.asset.definition:null,repoAddress:function(){if("folder"===l.type||!l.asset.definition)return null;var e=l.asset.definition.repository;return(0,M.kQ)(e.name,e.location.name)}(),showCheckboxColumn:!0,showRepoColumn:c,height:r,start:o,checked:i.has(l.displayKey),onToggleChecked:s(l.displayKey),onWipe:function(){return a(d.map((function(e){return e.key})))}},t)}))})]})})},L=t(32723),J=t(34795),U=t(15541),$=t(16854),D=t(49668),B=t(14581),V=function(e){var n=e.assetKeys,t=e.isOpen,r=e.onClose,i=e.onComplete,s=e.requery,o=(0,U.D)(H,{variables:{assetKeys:n.map((function(e){return{path:e.path||[]}}))},refetchQueries:s}),a=(0,l.Z)(o,1)[0],c=function(){var e=(0,J.Z)((0,L.Z)().mark((function e(){return(0,L.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a();case 4:i(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,R.jsxs)($.Vq,{isOpen:t,title:"Wipe materializations",onClose:r,style:{width:600},children:[(0,R.jsx)($.a7,{children:(0,R.jsxs)(D.Z,{direction:"column",spacing:16,children:[(0,R.jsx)("div",{children:"Are you sure you want to wipe materializations for these assets?"}),(0,R.jsx)("ul",{style:{paddingLeft:32,margin:0},children:n.map((function(e){var n=(0,B.ll)(e);return(0,R.jsx)("li",{style:{marginBottom:4},children:n},n)}))}),(0,R.jsx)("div",{children:"Assets defined only by their historical materializations will disappear from the Asset Catalog. Software-defined assets will remain unless their definition is also deleted."}),(0,R.jsx)("strong",{children:"This action cannot be undone."})]})}),(0,R.jsxs)($.cN,{topBorder:!0,children:[(0,R.jsx)(z.zx,{intent:"none",onClick:r,children:"Cancel"}),(0,R.jsx)(z.zx,{intent:"danger",onClick:c,children:"Wipe"})]})]})},H=(0,d.Ps)(r||(r=(0,a.Z)(["\n  mutation AssetWipeMutation($assetKeys: [AssetKeyInput!]!) {\n    wipeAssets(assetKeys: $assetKeys) {\n      ... on AssetWipeSuccess {\n        assetKeys {\n          path\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),g.B),Q=t(35711),X=function(e){var n=e.assets,t=e.actionBarComponents,r=e.refreshState,i=e.prefixPath,s=e.displayPathForAsset,a=e.requery,c=e.searchPath,d=e.searchGroups,h=e.view,p=m.useState(),f=(0,l.Z)(p,2),x=f[0],g=f[1],y=_()(n,(function(e){return JSON.stringify(s(e))})),j=Object.keys(y).sort(),w=(0,q.a)(j),k=(0,l.Z)(w,2),O=k[0].checkedIds,P=k[1],T=P.onToggleFactory,K=P.onToggleAll,F=[];j.forEach((function(e){O.has(e)&&F.push.apply(F,(0,o.Z)(y[e]||[]))}));return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(u.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,R.jsxs)(u.x,{background:S.w.White,flex:{alignItems:"center",gap:12},padding:{vertical:8,left:24,right:12},style:{position:"sticky",top:0,zIndex:1},children:[t,(0,R.jsx)("div",{style:{flex:1}}),(0,R.jsx)(v.xi,{refreshState:r}),(0,R.jsxs)(u.x,{flex:{alignItems:"center",gap:8},children:[F.some((function(e){return!e.definition}))?(0,R.jsx)(A.u,{content:"One or more selected assets are not software-defined and cannot be launched directly.",children:(0,R.jsx)(z.zx,{intent:"primary","data-testid":(0,I.N)("materialize-button"),icon:(0,R.jsx)(Z.JO,{name:"materialization"}),disabled:!0,children:F.length>1?"Materialize (".concat(F.length.toLocaleString(),")"):"Materialize"})}):(0,R.jsx)(Q.XE,{scope:{selected:F.map((function(e){return(0,C.Z)((0,C.Z)({},e.definition),{},{assetKey:e.key})}))}}),(0,R.jsx)(Y,{selected:F,clearSelection:function(){return K(!1)}})]})]}),function(){var e,t;return n.length?(0,R.jsx)(G,{headerCheckbox:(0,R.jsx)(b.X,{indeterminate:O.size>0&&O.size!==j.length,checked:O.size>0&&O.size===j.length,onChange:function(e){e.target instanceof HTMLInputElement&&K(O.size!==j.length)}}),prefixPath:i,groups:y,checkedDisplayKeys:O,onToggleFactory:T,showRepoColumn:!0,view:h,onWipe:function(e){return g(e)}}):c?(0,R.jsx)(u.x,{padding:{top:64},children:(0,R.jsx)(N.t,{icon:"search",title:"No matching assets",description:d.length?(0,R.jsxs)("div",{children:["No assets matching ",(0,R.jsx)("strong",{children:c})," were found in"," ",1===d.length?(0,R.jsx)("strong",{children:null===(t=d[0])||void 0===t?void 0:t.groupName}):"the selected asset groups"]}):(0,R.jsxs)("div",{children:["No assets matching ",(0,R.jsx)("strong",{children:c})," were found"]})})}):(0,R.jsx)(u.x,{padding:{top:20},children:(0,R.jsx)(N.t,{icon:"search",title:"No assets",description:d.length?(0,R.jsxs)("div",{children:["No assets were found in"," ",1===d.length?(0,R.jsx)("strong",{children:null===(e=d[0])||void 0===e?void 0:e.groupName}):"the selected asset groups"]}):"No assets were found"})})}()]}),(0,R.jsx)(V,{assetKeys:x||[],isOpen:!!x,onClose:function(){return g(void 0)},onComplete:function(){return g(void 0)},requery:a})]})},Y=m.memo((function(e){var n=e.selected,t=e.clearSelection,r=e.requery,i=m.useState(!1),s=(0,l.Z)(i,2),o=s[0],a=s[1];if(!(0,K.WB)().permissions.canWipeAssets)return null;var c=0===n.length;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(O.J,{position:"bottom-right",content:(0,R.jsx)(P.v2,{children:(0,R.jsx)(P.sN,{text:"Wipe materializations",onClick:function(){return a(!0)},icon:(0,R.jsx)(Z.JO,{name:"delete",color:c?S.w.Gray600:S.w.Red500}),disabled:c,intent:"danger"})}),children:(0,R.jsx)(z.zx,{icon:(0,R.jsx)(Z.JO,{name:"expand_more"})})}),(0,R.jsx)(V,{assetKeys:n.map((function(e){return e.key})),isOpen:o,onClose:function(){return a(!1)},onComplete:function(){a(!1),t()},requery:r})]})})),ee=t(92576),ne=function(e){var n=e.prefixPath;return(0,R.jsx)(N.t,{icon:"asset",title:"Assets",description:(0,R.jsxs)("p",{children:[n&&n.length?"There are no matching materialized assets with the specified asset key. ":"There are no known materialized assets. ","Any asset keys that have been specified with an ",(0,R.jsx)("code",{children:"AssetMaterialization"})," during a pipeline run will appear here. See the"," ",(0,R.jsx)("a",{href:"https://docs.dagster.io/_apidocs/ops#dagster.AssetMaterialization",children:"AssetMaterialization documentation"})," ","for more information."]})})},te=t(77387),re=t(9127),ie=function(e){return"flat"===e||"directory"===e?e:"flat"};var se=function(e){var n=e.prefixPath,t=e.setPrefixPath,r=e.groupSelector,i=(0,re.U)("AssetViewPreference",ie),s=(0,l.Z)(i,2),a=s[0],d=s[1],f=(0,j.q)({queryKey:"q"}),g=(0,l.Z)(f,2),C=g[0],N=g[1],b=(0,j.q)({queryKey:"g",decode:function(e){return e.groups?JSON.parse(e.groups):[]},encode:function(e){return{groups:e.length?JSON.stringify(e):void 0}}}),S=(0,l.Z)(b,2),A=S[0],z=S[1],Z=(C||"").replace(/(( ?> ?)|\.|\/)/g,"/").toLowerCase().trim(),O=function(e){var n=(0,c.a)(oe,{skip:!!e,notifyOnNetworkStatusChange:!0}),t=(0,c.a)(ae,{skip:!e,variables:{group:e},notifyOnNetworkStatusChange:!0});return m.useMemo((function(){var r;if(e){var i,s=null===(i=t.data)||void 0===i?void 0:i.assetNodes;return{query:t,error:void 0,assets:null===s||void 0===s?void 0:s.map(le)}}var o=null===(r=n.data)||void 0===r?void 0:r.assetsOrError;return{query:n,error:"PythonError"===(null===o||void 0===o?void 0:o.__typename)?o:void 0,assets:"AssetConnection"===(null===o||void 0===o?void 0:o.__typename)?o.nodes:void 0}}),[n,t,e])}(r),P=O.assets,T=O.query,_=O.error,K=(0,k.eB)(P),q=(0,te.f)(Z,P||[]),I=m.useMemo((function(){return q.filter((function(e){return!A.length||A.some((function(n){return x()((0,k.$H)(e),n)}))}))}),[q,A]),F="flat"===a?function(e,n){return{displayed:e,displayPathForAsset:function(e){return e.key.path}}}(I):function(e,n){var t=function(e){return e.key.path.slice(n.length,n.length+1)},r=e.filter((function(e){return e.key.path.join(",").startsWith(n.join(","))})),i=Array.from(new Set(r.map((function(e){return JSON.stringify(t(e))})))).map((function(e){return JSON.parse(e)})).sort();return{displayPathForAsset:t,displayed:ce(r,i.map((function(e){return[].concat((0,o.Z)(n),(0,o.Z)(e))})))}}(I,n),W=F.displayPathForAsset,E=F.displayed,M=(0,v.C4)(T,v.dT);return m.useEffect((function(){"directory"!==a&&n.length&&d("directory")}),[a,d,n]),_?(0,R.jsx)(y.T9,{error:_}):P?P.length?(0,R.jsx)(X,{view:a,assets:E,actionBarComponents:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(h.h,{activeItems:new Set([a]),buttons:[{id:"flat",icon:"view_list",tooltip:"List view"},{id:"directory",icon:"folder",tooltip:"Folder view"}],onClick:function(e){d(e),"flat"===e&&n.length&&t([])}}),(0,R.jsx)(p.oi,{value:C||"",style:{width:"30vw",minWidth:150,maxWidth:400},placeholder:n.length?"Filter asset keys in ".concat(n.join("/"),"\u2026"):"Filter asset keys\u2026",onChange:function(e){return N(e.target.value)}}),r?void 0:(0,R.jsx)(k.Lg,{assetGroups:K,value:A,onChange:z})]}),refreshState:M,prefixPath:n||[],searchPath:Z,searchGroups:A,displayPathForAsset:W,requery:function(e){return[{query:oe}]}}):(0,R.jsx)(u.x,{padding:{vertical:64},children:(0,R.jsx)(ne,{prefixPath:n})}):(0,R.jsx)(w.T,{purpose:"page"})},oe=(0,d.Ps)(i||(i=(0,a.Z)(["\n  query AssetCatalogTableQuery {\n    assetsOrError {\n      ... on AssetConnection {\n        nodes {\n          id\n          ...AssetTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),ee.v,g.B),ae=(0,d.Ps)(s||(s=(0,a.Z)(["\n  query AssetCatalogGroupTableQuery($group: AssetGroupSelector) {\n    assetNodes(group: $group) {\n      id\n      ...AssetCatalogGroupTableNode\n    }\n  }\n\n  fragment AssetCatalogGroupTableNode on AssetNode {\n    id\n    assetKey {\n      path\n    }\n    ...AssetTableDefinitionFragment\n  }\n\n  ","\n"])),ee.s);function le(e){return{__typename:"Asset",id:e.id,key:e.assetKey,definition:e}}var ce=function(e,n){return e.filter((function(e){return n.some((function(n){return n.every((function(n,t){return n===e.key.path[t]}))}))}))}},77387:function(e,n,t){t.d(n,{f:function(){return o},h:function(){return a}});var r=t(78193),i=t(14581),s=function(e){return r.useMemo((function(){return(e||"").replace(/(( ?> ?)|\.|\/)/g,"/").toLowerCase().trim()}),[e])},o=function(e,n){var t=s(e);return r.useMemo((function(){return t?n.filter((function(e){return(0,i.Je)(e.key).toLowerCase().includes(t)})):n}),[n,t])},a=function(e,n){var t=s(e);return r.useMemo((function(){return t?n.filter((function(e){return(0,i.Je)(e.assetKey).toLowerCase().includes(t)})):n}),[n,t])}},61810:function(e,n,t){t.d(n,{b:function(){return v}});var r,i,s,o=t(71171),a=t(40302),l=t(29427),c=t(69059),d=t(51232),u=t(83796),h=t(34191),p=(t(78193),t(97412)),f=t(60319),x=t(70529),m=t(29498),g=t(56651),y=t(35936),v=function(e){var n=e.repoAddress,t=e.showIcon,r=void 0!==t&&t,i=e.showRefresh,s=void 0===i||i,o=n.location,h=(0,x.Uz)(n);return(0,y.jsxs)(a.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center"},title:h,children:[r&&(0,y.jsx)(l.JO,{name:"folder",style:{marginRight:8},color:c.w.Gray400}),(0,y.jsx)(j,{to:(0,m.$U)(n),style:{flex:1},children:(0,y.jsx)(d.g,{text:h})}),s?(0,y.jsx)(g.s,{location:o,ChildComponent:function(e){var n=e.codeLocation,t=e.tryReload,r=e.reloading,i=e.hasReloadPermission;return(0,y.jsx)(w,{content:i?r?"Reloading\u2026":(0,y.jsxs)(y.Fragment,{children:["Reload location ",(0,y.jsx)("strong",{children:n})]}):g.H,children:r?(0,y.jsx)(u.$,{purpose:"body-text"}):(0,y.jsx)(k,{disabled:!i,onClick:t,children:(0,y.jsx)(l.JO,{name:"refresh",color:i?c.w.Gray400:c.w.Gray300})})})}}):null]})},j=(0,f.ZP)(p.rU)(r||(r=(0,o.Z)(["\n  max-width: 280px;\n"]))),w=(0,f.ZP)(h.u)(i||(i=(0,o.Z)(["\n  margin-left: 4px;\n\n  && {\n    display: block;\n  }\n"]))),k=f.ZP.button(s||(s=(0,o.Z)(["\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  display: block;\n  padding: 0;\n  margin: 0;\n\n  :disabled {\n    cursor: default;\n  }\n\n  :focus:not(:focus-visible) {\n    outline: none;\n  }\n\n  & "," {\n    display: block;\n    transition: color 100ms linear;\n  }\n\n  :hover "," {\n    color: ",";\n  }\n"])),l.a1,l.a1,c.w.Blue500)},61218:function(e,n,t){t.d(n,{I:function(){return v}});var r=t(96234),i=t(48439),s=t(58760),o=t(69059),a=t(40302),l=t(34191),c=t(52714),d=t(51232),u=t(78193),h=t(97412),p=t(96967),f=t(41433),x=t(75488),m=t(29498),g=t(55933),y=t(35936),v=function(e){var n=e.schedules,t=e.sensors,a=e.repoAddress,l=e.showSwitch,c=void 0===l||l,d=u.useState(!1),h=(0,r.Z)(d,2),p=h[0],f=h[1],x=n.length,m=t.length;if(x>1||m>1||x&&m){var v=x&&m?"".concat(x+m," schedules/sensors"):x?"".concat(x," schedules"):"".concat(m," sensors"),k=x>1?"schedule":"sensors";return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.V,{icon:k,children:(0,y.jsx)(s.Z,{onClick:function(){return f(!0)},color:o.w.Link,children:v})}),(0,y.jsx)(g.f,{isOpen:p,onClose:function(){return f(!1)},repoAddress:a,schedules:n,sensors:t,showSwitch:c})]})}return x?(0,y.jsx)(j,{schedule:n[0],repoAddress:a,showSwitch:c}):m?(0,y.jsx)(w,{sensor:t[0],repoAddress:a,showSwitch:c}):null},j=function(e){var n=e.schedule,t=e.repoAddress,r=e.showSwitch,s=n.cronSchedule,o=n.executionTimezone,d="RUNNING"===n.scheduleState.status,u=(0,y.jsx)(i.V,{intent:d?"primary":"none",icon:"schedule",children:(0,y.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,y.jsx)(h.rU,{to:(0,m.$U)(t,"/schedules/".concat(n.name)),style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,f.A)(s,o||"UTC")}),r?(0,y.jsx)(p.M,{size:"small",repoAddress:t,schedule:n}):null]})});return n.cronSchedule?(0,y.jsx)(l.u,{placement:"top-start",content:(0,y.jsxs)(a.x,{flex:{direction:"column",gap:4},children:[(0,y.jsxs)("div",{children:["Name: ",(0,y.jsx)("strong",{children:n.name})]}),(0,y.jsxs)("div",{children:["Cron:"," ",(0,y.jsxs)("span",{style:{fontFamily:c.b.monospace,marginLeft:"4px"},children:["(",n.cronSchedule,")"]})]}),(0,y.jsxs)("div",{children:["Timezone: ",(0,y.jsx)("strong",{children:n.executionTimezone||"UTC"})]})]}),children:u}):u},w=function(e){var n=e.sensor,t=e.repoAddress,r=e.showSwitch,s="RUNNING"===n.sensorState.status;return(0,y.jsx)(i.V,{intent:s?"primary":"none",icon:"sensors",children:(0,y.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,y.jsx)(h.rU,{to:(0,m.$U)(t,"/sensors/".concat(n.name)),style:{maxWidth:200,overflow:"hidden"},children:(0,y.jsx)(d.g,{text:n.name})}),r?(0,y.jsx)(x.c,{size:"small",repoAddress:t,sensor:n}):null]})})}},21763:function(e,n,t){t.d(n,{l:function(){return c}});var r=t(68079),i=t(33028),s=t(96234),o=t(90239),a=t(78193),l=t(54202);function c(e){var n=a.useState((function(){return[]})),t=(0,s.Z)(n,2),c=t[0],d=t[1],u=(0,l.q)({queryKey:"cursor"}),h=(0,s.Z)(u,2),p=h[0],f=h[1],x=(0,i.Z)((0,i.Z)({},e.variables),{},{cursor:p,limit:e.pageSize+1}),m=(0,o.a)(e.query,{skip:e.skip,variables:x,notifyOnNetworkStatusChange:!0}),g=e.getResultArray(m.data),y={hasPrevCursor:!!p,hasNextCursor:g.length===e.pageSize+1,popCursor:function(){var e=(0,r.Z)(c);f(e.pop()),d(e)},advanceCursor:function(){p&&d((function(e){return[].concat((0,r.Z)(e),[p])}));var n=m.data&&e.nextCursorForResult(m.data);n&&f(n)},reset:function(){d([]),f(void 0)}};return{queryResult:m,paginationProps:y}}},38809:function(e,n,t){t.d(n,{R_:function(){return U},XC:function(){return $},pN:function(){return J}});var r,i,s=t(33028),o=t(96234),a=t(71171),l=t(90239),c=t(31623),d=t(69059),u=t(14957),h=t(40302),p=t(99600),f=t(29427),x=t(78193),m=t(97412),g=t(60319),y=t(66052),v=t(11009),j=t(14581),w=t(83082),k=t(15888),C=t(72979),N=t(34191),b=t(83796),S=t(85049),A=t(14762),z=t(39928),Z=t(29498),O=t(35711),P=t(45384),T=t(35936),_=function(e){var n=e.repoAddress,t=e.path,r=e.definition,i=e.onWipe,s=(0,A.xz)(null===n||void 0===n?void 0:n.location).permissions,o=s.canWipeAssets,a=s.canLaunchPipelineExecution,l=(0,O.DO)(),c=l.onClick,d=l.loading,u=l.launchpadElement;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(k.J,{position:"bottom-right",content:(0,T.jsxs)(C.v2,{children:[(0,T.jsx)(N.u,{content:a?"Shift+click to add configuration":"You do not have permission to materialize assets",placement:"left",display:"block",useDisabledButtonTooltipFix:!0,children:(0,T.jsx)(C.sN,{text:"Materialize",icon:d?(0,T.jsx)(b.$,{purpose:"body-text"}):"materialization",disabled:!a||d,onClick:function(e){return c([{path:t}],e)}})}),(0,T.jsx)(z.U,{text:"Show in group",to:n&&null!==r&&void 0!==r&&r.groupName?(0,Z.$U)(n,"/asset-groups/".concat(r.groupName)):"",disabled:!r,icon:"asset_group"}),(0,T.jsx)(z.U,{text:"View neighbors",to:(0,P.p)({path:t},{view:"lineage",lineageScope:"neighbors"}),disabled:!r,icon:"graph_neighbors"}),(0,T.jsx)(z.U,{text:"View upstream assets",to:(0,P.p)({path:t},{view:"lineage",lineageScope:"upstream"}),disabled:!r,icon:"graph_upstream"}),(0,T.jsx)(z.U,{text:"View downstream assets",to:(0,P.p)({path:t},{view:"lineage",lineageScope:"downstream"}),disabled:!r,icon:"graph_downstream"}),(0,T.jsx)(C.sN,{text:"Wipe materializations",icon:"delete",disabled:!i||!o,intent:"danger",onClick:function(){return o&&i&&i([{path:t}])}})]}),children:(0,T.jsx)(S.zx,{icon:(0,T.jsx)(f.JO,{name:"expand_more"})})}),u]})},K=t(40142),q=t(13145),I=t(85326),F=t(29649),W=t(61810),E=t(79442),M=t(58735),R=t(43690),G="1.3fr 1fr 80px",L="76px 1.3fr 1.3fr 1.3fr 80px",J=function(e){var n,t=e.path,r=e.definition,i=e.type,a=e.repoAddress,c=e.start,g=e.height,k=e.checked,C=e.onToggleChecked,N=e.onWipe,b=e.showCheckboxColumn,S=void 0!==b&&b,A=e.showRepoColumn,z=e.view,O=void 0===z?"flat":z,G=function(e,n){var t=x.useState([]),r=(0,o.Z)(t,2),i=r[0],a=r[1],c=i[0]||"",d=(0,w.le)("asset"===n?i:[]),u=d.liveDataByNode,h=(0,l.a)(V,{skip:"asset_non_sda"!==n||!c,variables:{input:c}}),p=h.data;if(x.useEffect((function(){if("folder"!==n){var t=setTimeout((function(){a(e?[{path:e}]:[])}),B);return function(){return clearTimeout(t)}}}),[n,e]),"asset"===n)return u[(0,j.Wu)({path:e})];if("asset_non_sda"===n)return(0,s.Z)((0,s.Z)({},j.Se),{},{lastMaterialization:"Asset"===(null===p||void 0===p?void 0:p.assetOrError.__typename)&&p.assetOrError.assetMaterializations[0]?p.assetOrError.assetMaterializations[0]:null});return null}(t,i),L=(0,P.p)({path:t});return(0,T.jsx)(R.X2,{$height:g,$start:c,"data-testid":(0,M.N)("row-".concat((0,j.Je)({path:t}))),children:(0,T.jsxs)(D,{border:{side:"bottom",width:1,color:d.w.KeylineGray},$showRepoColumn:A,children:[S?(0,T.jsx)(R.E5,{children:(0,T.jsx)(u.X,{checked:k,onChange:function(e){if(C&&e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");C({checked:n,shiftKey:t})}}})}):null,(0,T.jsxs)(R.E5,{children:[(0,T.jsxs)(h.x,{flex:{alignItems:"center"},children:[(0,T.jsx)("div",{style:{flex:1,minWidth:0},children:(0,T.jsx)(K.R,{path:"folder"===i||"directory"===O?t.slice(-1):t,url:L,isGroup:"folder"===i,icon:i,textStyle:"middle-truncate"})}),r&&(0,T.jsx)(F.hG,{reduceColor:!0,reduceText:!0,definition:r,style:{position:"relative"}})]}),(0,T.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,T.jsx)(p.YS,{style:{color:d.w.Gray500,whiteSpace:"nowrap"},children:null===r||void 0===r?void 0:r.description})})]}),A?(0,T.jsx)(R.E5,{children:a?(0,T.jsxs)(h.x,{flex:{direction:"column",gap:4},style:{maxWidth:"100%",overflow:"hidden"},children:[(0,T.jsx)(W.b,{repoAddress:a,showIcon:!0,showRefresh:!1}),r&&r.groupName?(0,T.jsx)(m.rU,{to:(0,Z.$U)(a,"/asset-groups/".concat(r.groupName)),children:(0,T.jsxs)(h.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,T.jsx)(f.JO,{color:d.w.Gray400,name:"asset_group"}),r.groupName]})}):null]}):(0,T.jsx)("span",{children:"\u2013"})}):null,(0,T.jsx)(R.E5,{children:null!==r&&void 0!==r&&r.partitionDefinition?(0,T.jsxs)(h.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,T.jsx)(q.ux,{partitionStats:null===G||void 0===G?void 0:G.partitionStats}),(0,T.jsx)(p.YS,{children:(0,q._e)(null===G||void 0===G||null===(n=G.partitionStats)||void 0===n?void 0:n.numPartitions)})]}):(0,T.jsxs)(h.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[r?(0,T.jsx)(h.x,{style:{whiteSpace:"nowrap"},flex:{direction:"row",alignItems:"center",gap:8},children:(0,y.D5)({assetKey:{path:t},definition:r,expanded:!0,liveData:G}).content}):null!==G&&void 0!==G&&G.lastMaterialization?(0,T.jsx)(v.T,{runId:G.lastMaterialization.runId,event:{stepKey:G.stepKey,timestamp:G.lastMaterialization.timestamp},children:(0,T.jsx)(E.v,{timestamp:Number(G.lastMaterialization.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})}):(0,T.jsx)("div",{style:{color:d.w.Gray500},children:G||"folder"===i?"\u2013":"Loading"}),G&&(0,T.jsx)(I.f4,{assetKey:{path:t},liveData:G,include:"all"})]})}),(0,T.jsx)(R.E5,{children:"folder"!==i?(0,T.jsx)(_,{path:t,definition:r,repoAddress:a,onWipe:N}):null})]})})},U=function(e){var n=e.headerCheckbox,t=e.view;return(0,T.jsxs)(h.x,{background:d.w.White,border:{side:"horizontal",width:1,color:d.w.KeylineGray},style:{display:"grid",gridTemplateColumns:L,height:"32px",fontSize:"12px",color:d.w.Gray600,position:"sticky",top:0,zIndex:1},children:[(0,T.jsx)(R.qN,{children:n}),(0,T.jsx)(R.qN,{children:"flat"===t?"Asset name":"Asset key prefix"}),(0,T.jsx)(R.qN,{children:"Code location / Asset group"}),(0,T.jsx)(R.qN,{children:"Status"}),(0,T.jsx)(R.qN,{})]})},$=function(e){var n=e.nameLabel;return(0,T.jsxs)(h.x,{border:{side:"horizontal",width:1,color:d.w.KeylineGray},style:{display:"grid",gridTemplateColumns:G,height:"32px",fontSize:"12px",color:d.w.Gray600},children:[(0,T.jsx)(R.qN,{children:n}),(0,T.jsx)(R.qN,{children:"Status"}),(0,T.jsx)(R.qN,{})]})},D=(0,g.ZP)(h.x)(r||(r=(0,a.Z)(["\n  display: grid;\n  grid-template-columns: ",";\n  height: 100%;\n"])),(function(e){return e.$showRepoColumn?L:G})),B=250;var V=(0,c.Ps)(i||(i=(0,a.Z)(["\n  query SingleNonSDAAssetQuery($input: AssetKeyInput!) {\n    assetOrError(assetKey: $input) {\n      ... on Asset {\n        id\n        assetMaterializations(limit: 1) {\n          runId\n          timestamp\n        }\n      }\n    }\n  }\n"])))}}]);
//# sourceMappingURL=469.ac20ba7f.chunk.js.map