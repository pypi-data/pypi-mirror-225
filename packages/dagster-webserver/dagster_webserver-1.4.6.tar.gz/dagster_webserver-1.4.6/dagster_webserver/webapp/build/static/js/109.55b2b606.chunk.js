(self.webpackChunk_dagster_io_app_oss=self.webpackChunk_dagster_io_app_oss||[]).push([[109],{92014:function(n,e,t){"use strict";t.d(e,{CY:function(){return P},N9:function(){return I}});var r,o=t(71171),i=t(96234),a=t(90239),s=t(31623),l=t(78193),p=t(50032),u=t(72885),d=t(61365),c=t(80375),h=t(45384),f=t(25271),x=t(93357),v=t(63727),m=t(16365),g=t(45550),j=t(66456),b=t(69723),y=t(54577),S=t(35936),P=function(){(0,d.Px)();var n=(0,p.UO)(),e=(0,y.p3)(n[0]),t=e.pipelineName,r=e.snapshotId,o=(0,p.k6)();return(0,f.j)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,S.jsx)(I,{explorerPath:e,onChangeExplorerPath:function(n,e){o[e]("/snapshots/".concat((0,y.gY)(n)))},onNavigateToSourceAssetNode:function(n){var e=n.assetKey;o.push((0,h.p)(e))}})},I=function(n){var e,t=n.explorerPath,r=n.repoAddress,o=n.onChangeExplorerPath,s=n.onNavigateToSourceAssetNode,p=n.isGraph,u=void 0!==p&&p,d=l.useState({explodeComposites:null!==(e=t.explodeComposites)&&void 0!==e&&e,preferAssetRendering:!0}),h=(0,i.Z)(d,2),f=h[0],x=h[1],y=t.opNames.slice(0,t.opNames.length-1),P=(0,m._T)(r||null,t.pipelineName),I=(0,a.a)(w,{variables:{snapshotPipelineSelector:t.snapshotId?void 0:P,snapshotId:t.snapshotId?t.snapshotId:void 0,rootHandleID:y.join("."),requestScopeHandleID:f.explodeComposites?void 0:y.join(".")}});return(0,S.jsx)(v.g,{queryResult:I,children:function(n){var e=n.pipelineSnapshotOrError;if("PipelineSnapshot"!==e.__typename)return(0,S.jsx)(b.Q,{isGraph:u,result:e,repoAddress:r});var i=e.solidHandle,a=f.explodeComposites?(0,g.i)(e.solidHandles):e.solidHandles,l=e.solidHandles.some((function(n){return n.solid.definition.assetNodes.length>0}));return f.preferAssetRendering&&l?(0,S.jsx)(c.OK,{options:f,setOptions:x,fetchOptions:{pipelineSelector:P},explorerPath:t,onChangeExplorerPath:o,onNavigateToSourceAssetNode:s}):(0,S.jsx)(j.m0,{options:f,setOptions:x,explorerPath:t,onChangeExplorerPath:o,container:e,repoAddress:r,handles:a,parentHandle:i||void 0,isGraph:u,getInvocations:function(n){return a.filter((function(e){return e.solid.definition.name===n})).map((function(n){return{handleID:n.handleID}}))}})}})},w=(0,s.Ps)(r||(r=(0,o.Z)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),x.it,j.Sm,j.Q,j.bg,u.B)},46512:function(n,e,t){"use strict";t.d(e,{G:function(){return $}});var r,o=t(71171),i=t(33028),a=t(68079),s=t(96234),l=t(31623),p=t(87683),u=t(19427),d=t(40302),c=t(34943),h=t(48439),f=t(58760),x=t(7516),v=t(29427),m=t(78193),g=t(50032),j=t(72885),b=t(59298),y=t(61365),S=t(91870),P=t(52141),I=t(43371),w=t(9251),C=t(21763),k=t(18284),R=t(63727),E=t(71594),N=t(16365),Z=t(70529),_=t(29498),F=t(54577),A=t(55220),H=t(35936),O=["status","tag","created_date_before","created_date_after"],$=function(n){(0,y.Px)();var e=(0,g.UO)().pipelinePath,t=n.repoAddress,r=void 0===t?null:t,o=(0,F.p3)(e),l=o.pipelineName,v=o.snapshotId,j=(0,N.Ux)(r),k=(0,N.E8)(j,l);(0,A.b)(o,k);var _=(0,w.oD)(O),$=(0,s.Z)(_,2),q=$[0],Y=$[1],G=m.useMemo((function(){return[k?{token:"job",value:l}:{token:"pipeline",value:l},v?{token:"snapshotId",value:v}:null].filter(Boolean)}),[k,l,v]),z=[].concat((0,a.Z)(q),(0,a.Z)(G));if(r){var U={token:"tag",value:"".concat(P.H.RepositoryLabelTag,"=").concat((0,Z.Wg)(r))};z.push(U)}var Q=(0,C.l)({query:D,pageSize:25,variables:{filter:(0,i.Z)((0,i.Z)({},(0,w.VH)(z)),{},{pipelineName:l,snapshotId:v})},nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.id},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]}}),V=Q.queryResult,W=Q.paginationProps,B=m.useCallback((function(n){var e=(0,p.HY)(n);q.some((function(n){return(0,p.HY)(n)===e}))||Y([].concat((0,a.Z)(q),[n]))}),[q,Y]),J=(0,b.C4)(V,b.dT),K=(0,w.Vv)({enabledFilters:O,tokens:q,onChange:Y,loading:V.loading}),L=K.button,M=K.activeFiltersJsx;return(0,H.jsx)(I.Lw.Provider,{value:{refetch:V.refetch},children:(0,H.jsx)(u.T,{children:(0,H.jsx)(R.g,{queryResult:V,allowStaleData:!0,children:function(n){var t=n.pipelineRunsOrError;if("Runs"!==t.__typename)return(0,H.jsx)(d.x,{padding:{vertical:64},children:(0,H.jsx)(c.t,{icon:"error",title:"Query Error",description:t.message})});var o=t.results.slice(0,25),a=W.hasNextCursor,s=W.hasPrevCursor;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(E.Y,{$top:0,children:(0,H.jsx)(S.AL,{runs:o,onAddTag:B,actionBarComponents:(0,H.jsxs)(d.x,{flex:{direction:"row",justifyContent:"space-between",grow:1,alignItems:"center",gap:4},margin:{right:8},children:[L,(0,H.jsx)(b.xi,{refreshState:J})]}),belowActionBarComponents:(0,H.jsxs)(H.Fragment,{children:[G.map((function(n){var e=n.token,t=n.value;return(0,H.jsx)(h.V,{children:"".concat(e,":").concat(t)},e)})),M.length?(0,H.jsxs)(H.Fragment,{children:[M,(0,H.jsx)(f.Z,{onClick:function(){Y([])},children:"Clear all"})]}):null]}),emptyState:function(){return(0,H.jsx)(T,{repoAddress:r,anyFilter:q.length>0,jobName:l,jobPath:e})}})}),a||s?(0,H.jsx)("div",{style:{marginTop:"20px"},children:(0,H.jsx)(x.pI,(0,i.Z)({},W))}):null]})}})})})},T=function(n){var e=n.repoAddress,t=n.anyFilter,r=n.jobName,o=n.jobPath,i=(0,N.Ux)(e),a=(0,N.Hb)(i,r);return(0,H.jsx)(d.x,{padding:{vertical:64},children:(0,H.jsx)(c.t,{icon:"run",title:"No runs found",description:e?a?(0,H.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,H.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not materialized any assets with this job yet."}),(0,H.jsx)("div",{children:(0,H.jsx)(k.A,{icon:(0,H.jsx)(v.JO,{name:"materialization"}),to:(0,_.$U)(e,"/jobs/".concat(o)),children:"Materialize an asset"})})]}):(0,H.jsxs)(d.x,{flex:{direction:"column",gap:12},children:[(0,H.jsx)("div",{children:t?"There are no matching runs for these filters.":"You have not launched any runs for this job yet."}),(0,H.jsx)("div",{children:(0,H.jsx)(k.A,{icon:(0,H.jsx)(v.JO,{name:"add_circle"}),to:(0,_.$U)(e,"/jobs/".concat(o,"/playground")),children:"Launch a run"})})]}):(0,H.jsx)("div",{children:"You have not launched any runs for this job."})})})},D=(0,l.Ps)(r||(r=(0,o.Z)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),S.ZZ,j.B)},21763:function(n,e,t){"use strict";t.d(e,{l:function(){return p}});var r=t(68079),o=t(33028),i=t(96234),a=t(90239),s=t(78193),l=t(54202);function p(n){var e=s.useState((function(){return[]})),t=(0,i.Z)(e,2),p=t[0],u=t[1],d=(0,l.q)({queryKey:"cursor"}),c=(0,i.Z)(d,2),h=c[0],f=c[1],x=(0,o.Z)((0,o.Z)({},n.variables),{},{cursor:h,limit:n.pageSize+1}),v=(0,a.a)(n.query,{skip:n.skip,variables:x,notifyOnNetworkStatusChange:!0}),m=n.getResultArray(v.data),g={hasPrevCursor:!!h,hasNextCursor:m.length===n.pageSize+1,popCursor:function(){var n=(0,r.Z)(p);f(n.pop()),u(n)},advanceCursor:function(){h&&u((function(n){return[].concat((0,r.Z)(n),[h])}));var e=v.data&&n.nextCursorForResult(v.data);e&&f(e)},reset:function(){u([]),f(void 0)}};return{queryResult:v,paginationProps:g}}},71861:function(n,e,t){"use strict";t.r(e),t.d(e,{SnapshotRoot:function(){return I},default:function(){return w}});t(78193);var r,o=t(50032),i=t(92014),a=t(54577),s=t(46512),l=t(33028),p=t(71171),u=t(31623),d=t(90239),c=t(48439),h=t(38527),f=t(99600),x=t(52714),v=t(17869),m=t(97412),g=t(3431),j=t(16365),b=t(29498),y=t(35936),S=(0,u.Ps)(r||(r=(0,p.Z)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]))),P=function(n){var e,t=n.activeTab,r=void 0===t?"":t,o=n.explorerPath,i=o.pipelineName,s=o.snapshotId,p=void 0===s?"":s,u=(0,a.gY)((0,l.Z)((0,l.Z)({},o),{},{opNames:[]})),P=(0,j.Nc)(i),I=!(null===P||void 0===P||!P.isJob),w=null===P||void 0===P?void 0:P.pipelineSnapshotId,C=(0,d.a)(S,{variables:{snapshotId:p}}),k=C.data,R=C.loading,E=[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(u)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(u,"runs")}];return(0,y.jsx)(h.m,{title:(0,y.jsx)(f.X6,{style:{fontFamily:x.b.monospace,fontSize:"20px"},children:null===(e=o.snapshotId)||void 0===e?void 0:e.slice(0,8)}),tags:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(c.V,{icon:"schema",children:["Snapshot of"," ",(0,y.jsx)(m.rU,{to:(0,b.r4)(o.pipelineName,I),children:o.pipelineName})]}),function(){var n;return R?(0,y.jsx)(c.V,{intent:"none",minimal:!0,children:"..."}):!w||w!==p&&"PipelineSnapshot"===(null===k||void 0===k?void 0:k.pipelineSnapshotOrError.__typename)&&(null===k||void 0===k||null===(n=k.pipelineSnapshotOrError)||void 0===n?void 0:n.parentSnapshotId)!==w?(0,y.jsx)(c.V,{intent:"warning",minimal:!0,children:"Snapshot"}):(0,y.jsx)(c.V,{intent:"success",minimal:!0,children:"Current"})}()]}),tabs:(0,y.jsx)(v.mQ,{selectedTabId:r,children:E.map((function(n){var e=n.href,t=n.text,r=n.pathComponent;return(0,y.jsx)(g.f,{id:r,title:t,to:e},t)}))})})},I=function(){var n=(0,o.UO)(),e=n.pipelinePath,t=n.tab,r=(0,a.p3)(e);return(0,y.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,y.jsx)(P,{activeTab:t,explorerPath:r}),(0,y.jsxs)(o.rs,{children:[(0,y.jsx)(o.AW,{path:"/snapshots/:pipelinePath/runs",children:(0,y.jsx)(s.G,{})}),(0,y.jsx)(o.AW,{path:"/snapshots/(/?.*)",children:(0,y.jsx)(i.CY,{})})]})]})},w=I},71594:function(n,e,t){"use strict";t.d(e,{Y:function(){return a}});var r,o=t(71171),i=t(69059),a=t(60319).ZP.div(r||(r=(0,o.Z)(["\n  thead tr {\n    position: sticky;\n    top: ","px;\n    background-color: ",";\n    z-index: 1;\n  }\n\n  /**\n   * Safari won't render a box-shadow on the `tr` and we don't want an inset\n   * box-shadow on `th` elements because it will create a double-border on the\n   * bottom of the `thead` in the non-stuck state.\n   *\n   * We therefore render an absoulutely-positioned keyline on the bottom of the\n   * `th` elements. This will appear as a border in the stuck state, and will\n   * overlap the top box-shadow of the first row in the non-stuck state.\n   */\n  thead tr th {\n    position: relative;\n  }\n\n  thead tr th::after {\n    content: '';\n    display: block;\n    height: 1px;\n    background-color: ",";\n    position: absolute;\n    bottom: -1px;\n    left: 0;\n    right: 0;\n  }\n"],["\n  thead tr {\n    position: sticky;\n    top: ","px;\n    background-color: ",";\n    z-index: 1;\n  }\n\n  /**\n   * Safari won't render a box-shadow on the \\`tr\\` and we don't want an inset\n   * box-shadow on \\`th\\` elements because it will create a double-border on the\n   * bottom of the \\`thead\\` in the non-stuck state.\n   *\n   * We therefore render an absoulutely-positioned keyline on the bottom of the\n   * \\`th\\` elements. This will appear as a border in the stuck state, and will\n   * overlap the top box-shadow of the first row in the non-stuck state.\n   */\n  thead tr th {\n    position: relative;\n  }\n\n  thead tr th::after {\n    content: '';\n    display: block;\n    height: 1px;\n    background-color: ",";\n    position: absolute;\n    bottom: -1px;\n    left: 0;\n    right: 0;\n  }\n"])),(function(n){var e=n.$top;return void 0===e?0:e}),i.w.White,i.w.KeylineGray)},225:function(n,e,t){var r=t(67268),o=t(86357),i=t(93550),a=t(9747),s=t(4564),l=t(59390);n.exports=function(n,e,t,p){var u=-1,d=o,c=!0,h=n.length,f=[],x=e.length;if(!h)return f;t&&(e=a(e,s(t))),p?(d=i,c=!1):e.length>=200&&(d=l,c=!1,e=new r(e));n:for(;++u<h;){var v=n[u],m=null==t?v:t(v);if(v=p||0!==v?v:0,c&&m===m){for(var g=x;g--;)if(e[g]===m)continue n;f.push(v)}else d(e,m,p)||f.push(v)}return f}},92578:function(n,e,t){var r=t(8945),o=t(70214);n.exports=function(n,e){return r(o(n,e),1)}},67656:function(n,e,t){var r=t(56797),o=t(93348)((function(n,e,t){r(n,t,e)}));n.exports=o},42918:function(n,e,t){var r=t(9747),o=t(39095),i=t(74864),a=t(70002);n.exports=function(n,e){if(null==n)return{};var t=r(a(n),(function(n){return[n]}));return e=o(e),i(n,t,(function(n,t){return e(n,t[0])}))}},97346:function(n,e,t){var r=t(225),o=t(94518),i=t(22482),a=o((function(n,e){return i(n)?r(n,e):[]}));n.exports=a}}]);
//# sourceMappingURL=109.55b2b606.chunk.js.map