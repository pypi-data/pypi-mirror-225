[build-system]
requires = ["flit_core>=3.8.0"]
build-backend = "flit_core.buildapi"

[project]
name = "ichi-server"
authors = [
    {name = "aveeryy", email = "aveeryy@protonmail.com"},
]

classifiers = [
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
]

dependencies = [
  "fastapi==0.101.0",
  "hypercorn==0.14.4",
  "sqlmodel==0.0.8",
  "SQLAlchemy==1.4.41",
  "pydantic==1.10.7",
  "passlib[bcrypt]==1.7.4",
  "aiofiles==23.2.1",
  "python-multipart==0.0.6",
  "colorama==0.4.6",
  "Pillow==10.0.0",
  "ichi-auth==1.1",
  "alembic==1.11.2",
  "python-dotenv==1.0.0",
]

dynamic = ["version", "description"]
readme = "README.md"
requires-python = ">=3.10"

[project.urls]
Home = "https://codeberg.org/ichi/server"

[project.optional-dependencies]
build = [
  "flit==3.9.0",
  "Nuitka>=1.2.3",
  "zstandard>=0.19.0",
]

tests = [
  "pytest==7.2.1",
  "pytest-asyncio==0.20.3",
  "httpx==0.23.3",
]

# [tool.flit.sdist]
# include = ["ichi_server/alembic.ini", "ichi_server/migrations/**", "ichi_server/resources/**"]

[tool.pyright]
include = ["."]
