import{m as x,r as o,j as e,e as a,V as h,ag as u,D as d}from"./index-ff1743b2.js";import{p}from"./pluralize-1a9dd2e8.js";import{k as m}from"./popover-a777e0dc.js";import{$ as j}from"./transition-65d8b341.js";import{v as n,M as g,P as b}from"./disclosure-8eea5612.js";import"./_commonjs-dynamic-modules-302442b1.js";function z(){const{errors:s}=x(),[r,l]=o.useState(!1),t=s.size>0;return e.jsx(m,{onMouseEnter:()=>{l(!0)},onMouseLeave:()=>{l(!1)},className:"flex",children:()=>e.jsxs(e.Fragment,{children:[e.jsx("span",{className:a("block ml-1 px-2 first-child:ml-0 rounded-full border whitespace-nowrap dark:text-neutral-100 text-xs text-center",t?"border-danger-500 text-danger-100 bg-danger-500 cursor-pointer":"border-neutral-500 cursor-default text-neutral-700"),children:t?e.jsxs("span",{children:[s.size," ",p("Error",s.size)]}):e.jsx("span",{children:"No Errors"})}),e.jsx(j,{show:r&&t,as:o.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:e.jsx(m.Panel,{className:a("absolute rounded-md top-20 right-2 z-[1000] bg-light p-2 transform overflow-hidden text-danger-700 shadow-2xl","w-[90vw] max-h-[80vh]"),children:e.jsx("ul",{className:a("w-full bg-danger-10 py-4 pl-3 pr-1 rounded-md overflow-auto scrollbar scrollbar--vertical scrollbar--horizontal","max-w-[90vw] max-h-[80vh]"),children:Array.from(s.entries()).reverse().map(([c,i])=>e.jsx("li",{className:"mb-10",children:e.jsx(f,{scope:c,error:i})},`${c}-${i.message}`))})})})]})})}function f({error:s,scope:r}){return e.jsxs("div",{children:[e.jsxs("div",{className:"flex w-full",children:[e.jsxs("div",{className:"w-[20rem]",children:[e.jsxs("div",{className:"flex aline-center mb-2",children:[e.jsx("small",{className:"block mr-3",children:e.jsx("small",{className:"py-0.5 px-2 bg-danger-500 text-danger-100 rounded-md text-xs",children:s.status??"UI"})}),e.jsx("small",{className:"block",children:r})]}),e.jsxs("div",{className:a("text-sm px-2"),children:[e.jsx("small",{className:"block text-xs font-mono",children:h(u(s.timestamp),"yyyy-mm-dd hh-mm-ss",!1)}),e.jsx("p",{children:s.message})]})]}),e.jsxs("div",{className:"w-full px-4",children:[s.type!=null&&e.jsxs("small",{className:"block",children:[e.jsx("b",{children:"Type"}),": ",s.type]}),s.origin!=null&&e.jsxs("small",{className:"block mb-2",children:[e.jsx("b",{children:"Origin"}),": ",s.origin]}),s.trigger!=null&&e.jsxs("small",{className:"block mb-2",children:[e.jsx("b",{children:"Trigger"}),": ",s.trigger]}),e.jsx(d,{className:"!border-danger-10"}),e.jsx("p",{className:"text-sm my-4",children:s.description})]})]}),s.traceback!=null&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"'w-full mb-4 mt-6",children:e.jsx(n,{children:({open:l})=>e.jsxs(e.Fragment,{children:[e.jsxs(n.Button,{className:a("flex items-center justify-between rounded-lg text-left w-full bg-neutral-10 px-3 mb-2"),children:[e.jsx("div",{className:"text-lg font-bold whitespace-nowrap w-full",children:e.jsx("h3",{className:"py-2",children:"Traceback"})}),e.jsx("div",{children:l?e.jsx(g,{className:"h-6 w-6 text-danger-500"}):e.jsx(b,{className:"h-6 w-6 text-danger-500"})})]}),e.jsx(n.Panel,{className:"px-2 pb-2 overflow-hidden",children:e.jsx("pre",{className:"font-mono w-full bg-dark-lighter text-danger-500 rounded-lg p-4 overflow-auto scrollbar scrollbar--vertical scrollbar--horizontal max-h-[35vh] text-sm",children:e.jsx("code",{children:s.traceback??s.message})})})]})})}),e.jsx(d,{className:"!border-danger-10"})]})]})}export{f as DisplayError,z as default};
