import{r as g,q as N,j as a,e as v,i as k,I as E,a6 as L,c as I}from"./index-ff1743b2.js";import{I as M}from"./Input-f36d2f96.js";const o="",b=40;function S(r,e){return r.replaceAll(e,`<b class="inline-block text-brand-500 bg-brand-10">${e}</b>`)}function y(r=[],e){return r.reduce((t,[n,l])=>{const c=l.indexOf(e.toLocaleLowerCase());if(c>-1){const h=Math.max(0,c-b),m=Math.min(l.length-1,c+e.length+b);t.push([n,`${h>0?"... ":o}${l.slice(h,m)}${m<l.length?" ...":o}`])}return t},[])}function C({list:r,size:e=I.sm,searchBy:t,displayBy:n,onSelect:l,to:c,autoFocus:h=!1,isFullWidth:m=!1}){const j=g.useMemo(()=>r.map(s=>[s,s[t]]),[r]),[i,u]=g.useState(o),d=i!==o&&i.length>1,f=N(d)?[]:y(j,i);return a.jsxs("div",{className:"px-2 py-1 relative",onKeyDown:s=>{s.key==="Escape"&&u(o)},children:[a.jsx(M,{className:"w-full !m-0",size:e,value:i,placeholder:"Search",onInput:s=>{u(s.target.value.trim())},autoFocus:h}),d&&a.jsx("ul",{className:v("p-2 bg-theme dark:bg-theme-lighter fixed z-10 mt-2 rounded-lg max-h-[25vh] overflow-auto scrollbar scrollbar--vertical scrollbar--horizontal shadow-2xl",m?"w-full":"w-full max-w-[20rem]"),children:k(f)?a.jsx("li",{className:"p-2",onClick:s=>{s.stopPropagation(),u(o)},children:"No Results Found"},"not-found"):f.map(([s,x])=>a.jsx("li",{className:"p-2 cursor-pointer hover:bg-primary-10 rounded-lg",children:E(c)?a.jsx(w,{item:s,index:x,search:i,displayBy:n,onClick:p=>{p.stopPropagation(),l==null||l(s),u(o)}}):a.jsx(L,{to:c(s),onClick:p=>{p.stopPropagation(),u(o)},className:"text-md font-normal mb-1 w-full",children:a.jsx(w,{item:s,index:x,search:i,displayBy:n})})},s.name))})]})}function w({item:r,index:e,search:t,displayBy:n,onClick:l}){return a.jsxs("div",{onClick:l,className:"text-md font-normal w-full overflow-hidden whitespace-nowrap overflow-ellipsis",children:[a.jsx("span",{className:"font-bold",children:r[n]}),a.jsx("small",{className:"block text-neutral-600 italic",dangerouslySetInnerHTML:{__html:S(e,t)}})]})}export{C as S};
