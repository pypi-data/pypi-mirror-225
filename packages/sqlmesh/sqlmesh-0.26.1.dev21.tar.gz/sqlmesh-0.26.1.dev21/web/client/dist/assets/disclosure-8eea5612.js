import{r as t,$ as I}from"./index-ff1743b2.js";import{S as M,D,y as k,G as z,o as g,c as j,u as C,d as E,X as h,I as O,C as F,j as L,a as b,r as U}from"./transition-65d8b341.js";import{s as K}from"./popover-a777e0dc.js";function N({title:e,titleId:n,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":n},r),e?t.createElement("title",{id:n},e):null,t.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm3 10.5a.75.75 0 000-1.5H9a.75.75 0 000 1.5h6z",clipRule:"evenodd"}))}const V=t.forwardRef(N),de=V;function Y({title:e,titleId:n,...r},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":n},r),e?t.createElement("title",{id:n},e):null,t.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 9a.75.75 0 00-1.5 0v2.25H9a.75.75 0 000 1.5h2.25V15a.75.75 0 001.5 0v-2.25H15a.75.75 0 000-1.5h-2.25V9z",clipRule:"evenodd"}))}const q=t.forwardRef(Y),pe=q;var B;let A=(B=I.startTransition)!=null?B:function(e){e()};var G=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(G||{}),Q=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(Q||{});let X={0:e=>({...e,disclosureState:C(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,n){return e.buttonId===n.buttonId?e:{...e,buttonId:n.buttonId}},3(e,n){return e.panelId===n.panelId?e:{...e,panelId:n.panelId}}},R=t.createContext(null);R.displayName="DisclosureContext";function $(e){let n=t.useContext(R);if(n===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$),r}return n}let T=t.createContext(null);T.displayName="DisclosureAPIContext";function H(e){let n=t.useContext(T);if(n===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,H),r}return n}let x=t.createContext(null);x.displayName="DisclosurePanelContext";function Z(){return t.useContext(x)}function J(e,n){return C(n.type,X,e,n)}let W=t.Fragment;function _(e,n){let{defaultOpen:r=!1,...s}=e,v=t.useRef(null),l=k(n,z(c=>{v.current=c},e.as===void 0||e.as===t.Fragment)),a=t.useRef(null),m=t.useRef(null),u=t.useReducer(J,{disclosureState:r?0:1,linkedPanel:!1,buttonRef:m,panelRef:a,buttonId:null,panelId:null}),[{disclosureState:i,buttonId:d},P]=u,p=g(c=>{P({type:1});let o=L(v);if(!o||!d)return;let f=(()=>c?c instanceof HTMLElement?c:c.current instanceof HTMLElement?c.current:o.getElementById(d):o.getElementById(d))();f==null||f.focus()}),y=t.useMemo(()=>({close:p}),[p]),w=t.useMemo(()=>({open:i===0,close:p}),[i,p]),S={ref:l};return I.createElement(R.Provider,{value:u},I.createElement(T.Provider,{value:y},I.createElement(j,{value:C(i,{0:E.Open,1:E.Closed})},h({ourProps:S,theirProps:s,slot:w,defaultTag:W,name:"Disclosure"}))))}let ee="button";function te(e,n){let r=O(),{id:s=`headlessui-disclosure-button-${r}`,...v}=e,[l,a]=$("Disclosure.Button"),m=Z(),u=m===null?!1:m===l.panelId,i=t.useRef(null),d=k(i,n,u?null:l.buttonRef);t.useEffect(()=>{if(!u)return a({type:2,buttonId:s}),()=>{a({type:2,buttonId:null})}},[s,a,u]);let P=g(o=>{var f;if(u){if(l.disclosureState===1)return;switch(o.key){case b.Space:case b.Enter:o.preventDefault(),o.stopPropagation(),a({type:0}),(f=l.buttonRef.current)==null||f.focus();break}}else switch(o.key){case b.Space:case b.Enter:o.preventDefault(),o.stopPropagation(),a({type:0});break}}),p=g(o=>{switch(o.key){case b.Space:o.preventDefault();break}}),y=g(o=>{var f;U(o.currentTarget)||e.disabled||(u?(a({type:0}),(f=l.buttonRef.current)==null||f.focus()):a({type:0}))}),w=t.useMemo(()=>({open:l.disclosureState===0}),[l]),S=K(e,i),c=u?{ref:d,type:S,onKeyDown:P,onClick:y}:{ref:d,id:s,type:S,"aria-expanded":e.disabled?void 0:l.disclosureState===0,"aria-controls":l.linkedPanel?l.panelId:void 0,onKeyDown:P,onKeyUp:p,onClick:y};return h({ourProps:c,theirProps:v,slot:w,defaultTag:ee,name:"Disclosure.Button"})}let ne="div",le=M.RenderStrategy|M.Static;function re(e,n){let r=O(),{id:s=`headlessui-disclosure-panel-${r}`,...v}=e,[l,a]=$("Disclosure.Panel"),{close:m}=H("Disclosure.Panel"),u=k(n,l.panelRef,y=>{A(()=>a({type:y?4:5}))});t.useEffect(()=>(a({type:3,panelId:s}),()=>{a({type:3,panelId:null})}),[s,a]);let i=F(),d=(()=>i!==null?(i&E.Open)===E.Open:l.disclosureState===0)(),P=t.useMemo(()=>({open:l.disclosureState===0,close:m}),[l,m]),p={ref:u,id:s};return I.createElement(x.Provider,{value:l.panelId},h({ourProps:p,theirProps:v,slot:P,defaultTag:ne,features:le,visible:d,name:"Disclosure.Panel"}))}let oe=D(_),ae=D(te),se=D(re),fe=Object.assign(oe,{Button:ae,Panel:se});export{de as M,pe as P,fe as v};
